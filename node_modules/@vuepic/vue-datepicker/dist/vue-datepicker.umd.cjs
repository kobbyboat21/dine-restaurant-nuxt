(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";function xe(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}xe.compatConfig={MODE:3};function Qt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Qt.compatConfig={MODE:3};function kt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}kt.compatConfig={MODE:3};function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}wt.compatConfig={MODE:3};function bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}bt.compatConfig={MODE:3};function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Dt.compatConfig={MODE:3};function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Mt.compatConfig={MODE:3};const Je=36e5,vt=6e4,Rn=2,En=[31,28,31,30,31,30,31,31,30,31,30,31],Yn=[31,29,31,30,31,30,31,31,30,31,30,31],_n=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,ke={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*)$/,timeZone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/},Vn=(t,n,o)=>{const r=lt(t,o),a=St(n,r,!0),c=new Date(r.getTime()-a),l=new Date(0);return l.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),l.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),l},On=(t,n,o)=>{if(typeof t=="string"&&!t.match(_n)){const l=Zn(o);return l.timeZone=n,lt(t,l)}const r=lt(t,o),a=Tt(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()).getTime(),c=St(n,new Date(a));return new Date(a+c)};function St(t,n,o){let r,a;if(!t||(r=ke.timezoneZ.exec(t),r))return 0;let c;if(r=ke.timezoneHH.exec(t),r)return c=parseInt(r[1],10),Xt(c)?-(c*Je):NaN;if(r=ke.timezoneHHMM.exec(t),r){c=parseInt(r[1],10);const l=parseInt(r[2],10);return Xt(c,l)?(a=Math.abs(c)*Je+l*vt,c>0?-a:a):NaN}if(In(t)){n=new Date(n||Date.now());const l=o?n:Jn(n),f=Ct(l,t);return-(o?f:zn(n,f,t))}return NaN}const Zt={};function In(t){if(Zt[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Zt[t]=!0,!0}catch{return!1}}function zn(t,n,o){let a=t.getTime()-n;const c=Ct(new Date(a),o);if(n===c)return n;a-=c-n;const l=Ct(new Date(a),o);return c===l?c:Math.max(c,l)}function Xt(t,n){return-23<=t&&t<=23&&(n==null||0<=n&&n<=59)}function Ct(t,n){const o=Hn(t,n),r=Tt(o[0],o[1]-1,o[2],o[3]%24,o[4],o[5],0).getTime();let a=t.getTime();const c=a%1e3;return a-=c>=0?c:1e3+c,r-a}function Tt(t,n,o,r,a,c,l){const f=new Date(0);return f.setUTCFullYear(t,n,o),f.setUTCHours(r,a,c,l),f}function Hn(t,n){const o=Ln(n);return o.formatToParts?Wn(o,t):Un(o,t)}const Bt={};function Ln(t){if(!Bt[t]){const n=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),o=n==="06/25/2014, 00:00:00"||n==="06/25/2014 00:00:00";Bt[t]=o?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Bt[t]}const Kn={year:0,month:1,day:2,hour:3,minute:4,second:5};function Wn(t,n){try{const o=t.formatToParts(n),r=[];for(let a=0;a<o.length;a++){const c=Kn[o[a].type];c>=0&&(r[c]=parseInt(o[a].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function Un(t,n){const o=t.format(n).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(o);return[r[3],r[1],r[2],r[4],r[5],r[6]]}function lt(t,n){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const o=n||{},r=o.additionalDigits==null?Rn:Qn(o.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);const a=Gn(t),c=qn(a.date,r),l=c.year,f=c.restDateString,S=D(f,l);function D($,b){if(b===null)return null;let N,E,C,M;if($.length===0)return E=new Date(0),E.setUTCFullYear(b),E;if(N=ke.MM.exec($),N)return E=new Date(0),C=parseInt(N[1],10)-1,en(b,C)?(E.setUTCFullYear(b,C),E):new Date(NaN);if(N=ke.DDD.exec($),N){E=new Date(0);const j=parseInt(N[1],10);return jn(b,j)?(E.setUTCFullYear(b,0,j),E):new Date(NaN)}if(N=ke.MMDD.exec($),N){E=new Date(0),C=parseInt(N[1],10)-1;const j=parseInt(N[2],10);return en(b,C,j)?(E.setUTCFullYear(b,C,j),E):new Date(NaN)}if(N=ke.Www.exec($),N)return M=parseInt(N[1],10)-1,tn(b,M)?Jt(b,M):new Date(NaN);if(N=ke.WwwD.exec($),N){M=parseInt(N[1],10)-1;const j=parseInt(N[2],10)-1;return tn(b,M,j)?Jt(b,M,j):new Date(NaN)}return null}if(isNaN(S))return new Date(NaN);if(S){const $=S.getTime();let b=0,N;if(a.time&&(b=xn(a.time),isNaN(b)))return new Date(NaN);if(a.timeZone||o.timeZone){if(N=St(a.timeZone||o.timeZone,new Date($+b)),isNaN(N))return new Date(NaN)}else N=nn(new Date($+b)),N=nn(new Date($+b+N));return new Date($+b+N)}else return new Date(NaN)}function Jt(t,n,o){n=n||0,o=o||0;const r=new Date(0);r.setUTCFullYear(t,0,4);const a=r.getUTCDay()||7,c=n*7+o+1-a;return r.setUTCDate(r.getUTCDate()+c),r}function Ft(t){return t%400===0||t%4===0&&t%100!==0}function en(t,n,o){if(n<0||n>11)return!1;if(o!=null){if(o<1)return!1;const r=Ft(t);if(r&&o>Yn[n]||!r&&o>En[n])return!1}return!0}function jn(t,n){if(n<1)return!1;const o=Ft(t);return o&&n>366?!1:!(!o&&n>365)}function tn(t,n,o){return n<0||n>52?!1:!(o!=null&&(o<0||o>6))}function $t(t,n,o){return t!=null&&(t<0||t>=25)||n!=null&&(n<0||n>=60)?!1:!(o!=null&&(o<0||o>=60))}function xn(t){let n,o,r;if(n=ke.HH.exec(t),n)return o=parseFloat(n[1].replace(",",".")),$t(o)?o%24*Je:NaN;if(n=ke.HHMM.exec(t),n)return o=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),$t(o,r)?o%24*Je+r*vt:NaN;if(n=ke.HHMMSS.exec(t),n){o=parseInt(n[1],10),r=parseInt(n[2],10);const a=parseFloat(n[3].replace(",","."));return $t(o,r,a)?o%24*Je+r*vt+a*1e3:NaN}return null}function qn(t,n){const o=ke.YYY[n],r=ke.YYYYY[n];let a;if(a=ke.YYYY.exec(t)||r.exec(t),a){const c=a[1];return{year:parseInt(c,10),restDateString:t.slice(c.length)}}if(a=ke.YY.exec(t)||o.exec(t),a){const c=a[1];return{year:parseInt(c,10)*100,restDateString:t.slice(c.length)}}return{year:null}}function Gn(t){const n={};let o=ke.dateTimePattern.exec(t),r;if(o?(n.date=o[1],r=o[3]):(o=ke.datePattern.exec(t),o?(n.date=o[1],r=o[2]):(n.date=null,r=t)),r){const a=ke.timeZone.exec(r);a?(n.time=r.replace(a[1],""),n.timeZone=a[1].trim()):n.time=r}return n}function nn(t){const n=lt(t),o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),+t-+o}function Qn(t){if(t===null||t===!0||t===!1)return NaN;const n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function Zn(t){return Xn({},t)}function Xn(t,n){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}function Jn(t){return Tt(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function an(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function Fn(t){return n=>s.format(new Date(`2017-01-0${n}T00:00:00+00:00`),"EEEEEE",{locale:t})}const ea=(t,n,o)=>{const r=[1,2,3,4,5,6,7];let a;if(t!==null)try{a=r.map(Fn(t))}catch{a=r.map(an(n))}else a=r.map(an(n));const c=a.slice(0,o),l=a.slice(o+1,a.length);return[a[o]].concat(...l).concat(...c)},At=(t,n)=>{const o=[];for(let r=+t[0];r<=+t[1];r++)o.push({value:+r,text:`${r}`});return n?o.reverse():o},rn=(t,n,o)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(c=>{const l=c<10?`0${c}`:c;return new Date(`2017-${l}-01T00:00:00+00:00`)});if(t!==null)try{const c=o==="long"?"MMMM":"MMM";return r.map((l,f)=>{const S=s.format(l,c,{locale:t});return{text:S.charAt(0).toUpperCase()+S.substring(1),value:f}})}catch{}const a=new Intl.DateTimeFormat(n,{month:o,timeZone:"UTC"});return r.map((c,l)=>{const f=a.format(c);return{text:f.charAt(0).toUpperCase()+f.substring(1),value:l}})},ta=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ye=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},na=t=>Object.assign({type:"dot"},t),on=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Pt={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},he=t=>t,ln=t=>t===0?t:!t||isNaN(+t)?null:+t,sn=t=>t===null,un=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},aa=t=>{const n=[],o=r=>r.filter(a=>a);for(let r=0;r<t.length;r+=3){const a=[t[r],t[r+1],t[r+2]];n.push(o(a))}return n},Fe=(t,n,o)=>{const r=o!=null,a=n!=null;if(!r&&!a)return!1;const c=+o,l=+n;return r&&a?+t>c||+t<l:r?+t>c:a?+t<l:!1},qe=(t,n)=>aa(t).map(o=>o.map(r=>{const{active:a,disabled:c,isBetween:l,highlighted:f}=n(r);return{...r,active:a,disabled:c,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:c,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:c&&a,dp__cell_in_between:l,"dp--highlighted":f}}})),_e=(t,n,o=!1)=>{t&&n.allowStopPropagation&&(o&&t.stopImmediatePropagation(),t.stopPropagation())},ra=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function oa(t,n){let o=[...document.querySelectorAll(ra())];o=o.filter(a=>!t.contains(a)||a.hasAttribute("data-datepicker-instance"));const r=o.indexOf(t);if(r>=0&&(n?r-1>=0:r+1<=o.length))return o[r+(n?-1:1)]}const la=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),cn=(t,n,o,r,a)=>{const c=s.parse(t,n.slice(0,t.length),new Date);return s.isValid(c)&&s.isDate(c)?r||a?c:s.set(c,{hours:+o.hours,minutes:+(o==null?void 0:o.minutes),seconds:+(o==null?void 0:o.seconds),milliseconds:0}):null},sa=(t,n,o,r,a)=>{const c=Array.isArray(o)?o[0]:o;if(typeof n=="string")return cn(t,n,c,r,a);if(Array.isArray(n)){let l=null;for(const f of n)if(l=cn(t,f,c,r,a),l)break;return l}return typeof n=="function"?n(t):null},I=t=>t?new Date(t):new Date,ia=(t,n,o)=>{if(n){const a=(t.getMonth()+1).toString().padStart(2,"0"),c=t.getDate().toString().padStart(2,"0"),l=t.getHours().toString().padStart(2,"0"),f=t.getMinutes().toString().padStart(2,"0"),S=o?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${a}-${c}T${l}:${f}:${S}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},be=t=>{let n=I(JSON.parse(JSON.stringify(t)));return n=s.setHours(n,0),n=s.setMinutes(n,0),n=s.setSeconds(n,0),n=s.setMilliseconds(n,0),n},Ve=(t,n,o,r)=>{let a=t?I(t):I();return(n||n===0)&&(a=s.setHours(a,+n)),(o||o===0)&&(a=s.setMinutes(a,+o)),(r||r===0)&&(a=s.setSeconds(a,+r)),s.setMilliseconds(a,0)},pe=(t,n)=>!t||!n?!1:s.isBefore(be(t),be(n)),ie=(t,n)=>!t||!n?!1:s.isEqual(be(t),be(n)),ge=(t,n)=>!t||!n?!1:s.isAfter(be(t),be(n)),st=(t,n,o)=>t!=null&&t[0]&&(t!=null&&t[1])?ge(o,t[0])&&pe(o,t[1]):t!=null&&t[0]&&n?ge(o,t[0])&&pe(o,n)||pe(o,t[0])&&ge(o,n):!1,Ce=t=>{const n=s.set(new Date(t),{date:1});return be(n)},Nt=(t,n,o)=>n&&(o||o===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===n?[r,o]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Le=t=>({hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),dn=(t,n)=>{if(n){const o=s.getYear(I(n));if(o>t)return 12;if(o===t)return s.getMonth(I(n))}},fn=(t,n)=>{if(n){const o=s.getYear(I(n));return o<t?-1:o===t?s.getMonth(I(n)):void 0}},Ge=t=>{if(t)return s.getYear(I(t))},Te=(t,n)=>n?Vn(t,n):t,mn=(t,n)=>n?On(t,n):t,ua=t=>t instanceof Date?t:s.parseISO(t),pn=(t,n)=>{const o=ge(t,n)?n:t,r=ge(n,t)?n:t;return s.eachDayOfInterval({start:o,end:r})},ca=t=>{const n=s.addMonths(t,1);return{month:s.getMonth(n),year:s.getYear(n)}},Ee=(t,n,o)=>{const r=s.startOfWeek(Te(t,n),{weekStartsOn:+o}),a=s.endOfWeek(Te(t,n),{weekStartsOn:+o});return[r,a]},gn=(t,n)=>{const o={hours:s.getHours(I()),minutes:s.getMinutes(I()),seconds:n?s.getSeconds(I()):0};return Object.assign(o,t)},Oe=(t,n,o)=>[s.set(I(t),{date:1}),s.set(I(),{month:n,year:o,date:1})],Ye=(t,n,o)=>{let r=t?I(t):I();return(n||n===0)&&(r=s.setMonth(r,n)),o&&(r=s.setYear(r,o)),r},hn=(t,n,o,r,a)=>{if(!r||a&&!n||!a&&!o)return!1;const c=a?s.addMonths(t,1):s.subMonths(t,1),l=[s.getMonth(c),s.getYear(c)];return a?!fa(...l,n):!da(...l,o)},da=(t,n,o)=>pe(...Oe(o,t,n))||ie(...Oe(o,t,n)),fa=(t,n,o)=>ge(...Oe(o,t,n))||ie(...Oe(o,t,n)),yn=(t,n,o,r,a,c,l)=>{if(typeof n=="function"&&!l)return n(t);const f=o?{locale:o}:void 0;return Array.isArray(t)?`${s.format(t[0],c,f)}${a&&!t[1]?"":r}${t[1]?s.format(t[1],c,f):""}`:s.format(t,c,f)},Qe=t=>{if(t)return null;throw new Error(Pt.prop("partial-range"))},it=(t,n)=>{if(n)return t();throw new Error(Pt.prop("range"))},Rt=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,ma=(t,n)=>s.set(n??I(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Et=(t,n,o,r)=>{if(!t)return!0;if(r){const a=o==="max"?s.isBefore(t,n):s.isAfter(t,n),c={seconds:0,milliseconds:0};return a||s.isEqual(s.set(t,c),s.set(n,c))}return o==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},Yt=(t,n,o)=>t?ma(t,n):I(o??n),kn=(t,n,o,r,a)=>{if(Array.isArray(r)){const l=Yt(t,r[0],n),f=Yt(t,r[1],n);return Et(r[0],l,o,!!n)&&Et(r[1],f,o,!!n)&&a}const c=Yt(t,r,n);return Et(r,c,o,!!n)&&a},_t=t=>s.set(I(),Le(t)),pa=(t,n)=>Array.isArray(t)?t.map(o=>I(o)).filter(o=>s.getYear(I(o))===n).map(o=>s.getMonth(o)):[],wn=(t,n,o)=>typeof t=="function"?t({month:n,year:o}):!!t.months.find(r=>r.month===n&&r.year===o),Vt=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),et=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),bn=()=>{const t=r=>{et.menuFocused=r},n=r=>{et.shiftKeyInMenu!==r&&(et.shiftKeyInMenu=r)};return{control:e.computed(()=>({shiftKeyInMenu:et.shiftKeyInMenu,menuFocused:et.menuFocused})),setMenuFocused:t,setShiftKey:n}},fe=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Ot=e.ref(null),ut=e.ref(!1),It=e.ref(!1),zt=e.ref(!1),Ht=e.ref(!1),De=e.ref(0),we=e.ref(0),Ie=()=>{const t=e.computed(()=>ut.value?[...fe.selectionGrid,fe.actionRow].filter(Y=>Y.length):It.value?[...fe.timePicker[0],...fe.timePicker[1],Ht.value?[]:[Ot.value],fe.actionRow].filter(Y=>Y.length):zt.value?[...fe.monthPicker,fe.actionRow]:[fe.monthYear,...fe.calendar,fe.time,fe.actionRow].filter(Y=>Y.length)),n=Y=>{De.value=Y?De.value+1:De.value-1;let O=null;t.value[we.value]&&(O=t.value[we.value][De.value]),O||(De.value=Y?De.value-1:De.value+1)},o=Y=>{if(we.value===0&&!Y||we.value===t.value.length&&Y)return;we.value=Y?we.value+1:we.value-1,t.value[we.value]?t.value[we.value]&&!t.value[we.value][De.value]&&De.value!==0&&(De.value=t.value[we.value].length-1):we.value=Y?we.value-1:we.value+1},r=Y=>{let O=null;t.value[we.value]&&(O=t.value[we.value][De.value]),O?O.focus({preventScroll:!ut.value}):De.value=Y?De.value-1:De.value+1},a=()=>{n(!0),r(!0)},c=()=>{n(!1),r(!1)},l=()=>{o(!1),r(!0)},f=()=>{o(!0),r(!0)},S=(Y,O)=>{fe[O]=Y},D=(Y,O)=>{fe[O]=Y},$=()=>{De.value=0,we.value=0};return{buildMatrix:S,buildMultiLevelMatrix:D,setTimePickerBackRef:Y=>{Ot.value=Y},setSelectionGrid:Y=>{ut.value=Y,$(),Y||(fe.selectionGrid=[])},setTimePicker:(Y,O=!1)=>{It.value=Y,Ht.value=O,$(),Y||(fe.timePicker[0]=[],fe.timePicker[1]=[])},setTimePickerElements:(Y,O=0)=>{fe.timePicker[O]=Y},arrowRight:a,arrowLeft:c,arrowUp:l,arrowDown:f,clearArrowNav:()=>{fe.monthYear=[],fe.calendar=[],fe.time=[],fe.actionRow=[],fe.selectionGrid=[],fe.timePicker[0]=[],fe.timePicker[1]=[],ut.value=!1,It.value=!1,Ht.value=!1,zt.value=!1,$(),Ot.value=null},setMonthPicker:Y=>{zt.value=Y,$()},refSets:fe}},Dn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),ga=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),Mn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,ha=t=>{const n=typeof t=="object"&&t,o={static:!0,solo:!1};if(!t)return{...o,count:Mn(!1)};const r=n?t:{},a=n?r.count??!0:t,c=Mn(a);return Object.assign(o,r,{count:c})},ya=(t,n,o)=>t||(typeof o=="string"?o:n),ka=t=>typeof t=="boolean"?t?Dn({}):!1:Dn(t),wa=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},ba=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Da=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Ma=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},va=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0},...t??{}}),Sa=t=>{const n={dates:Array.isArray(t)?t.map(o=>I(o)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},Ca=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},Ta=(t,n)=>{const o={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...o,...t}:{enabled:t,noDisabledRange:n.noDisabledRange,showLastInRange:n.showLastInRange,minMaxRawRange:n.minMaxRawRange,partialRange:n.partialRange,disableTimeRangeValidation:n.disableTimeRangeValidation,maxRange:n.maxRange,minRange:n.minRange,autoRange:n.autoRange,fixedStart:n.fixedStart,fixedEnd:n.fixedEnd}},me=t=>{const n=()=>{const O=t.enableSeconds?":ss":"";return t.is24?`HH:mm${O}`:`hh:mm${O} aa`},o=()=>{var O;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((O=j.value)==null?void 0:O.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},r=O=>gn(O,t.enableSeconds),a=()=>Y.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,c=e.computed(()=>ha(t.multiCalendars)),l=e.computed(()=>a()),f=e.computed(()=>ga(t.ariaLabels)),S=e.computed(()=>ba(t.filters)),D=e.computed(()=>ka(t.transitions)),$=e.computed(()=>Da(t.actionRow)),b=e.computed(()=>ya(t.previewFormat,t.format,o())),N=e.computed(()=>wa(t.textInput)),E=e.computed(()=>Ma(t.inline)),C=e.computed(()=>va(t.config)),M=e.computed(()=>Sa(t.highlight)),j=e.computed(()=>Ca(t.weekNumbers)),Y=e.computed(()=>Ta(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:D,defaultedMultiCalendars:c,defaultedStartTime:l,defaultedAriaLabels:f,defaultedFilters:S,defaultedActionRow:$,defaultedPreviewFormat:b,defaultedTextInput:N,defaultedInline:E,defaultedConfig:C,defaultedHighlight:M,defaultedWeekNumbers:j,defaultedRange:Y,getDefaultPattern:o,getDefaultStartTime:a}},Ba=(t,n,o)=>{const r=e.ref(),{defaultedTextInput:a,defaultedRange:c,getDefaultPattern:l}=me(n),f=e.ref(""),S=e.toRef(n,"format");e.watch(r,()=>{t("internal-model-change",r.value)},{deep:!0}),e.watch(S,()=>{X()});const D=d=>mn(d,n.timezone),$=d=>Te(d,n.timezone),b=(d,_,k=!1)=>yn(d,n.format,n.formatLocale,a.value.rangeSeparator,n.modelAuto,_??l(),k),N=d=>d?n.modelType?m(d):{hours:s.getHours(d),minutes:s.getMinutes(d),seconds:n.enableSeconds?s.getSeconds(d):0}:null,E=d=>n.modelType?m(d):{month:s.getMonth(d),year:s.getYear(d)},C=d=>Array.isArray(d)?n.multiDates?d.map(_=>M(_,s.setYear(I(),_))):it(()=>[s.setYear(I(),d[0]),d[1]?s.setYear(I(),d[1]):Qe(c.value.partialRange)],c.value.enabled):s.setYear(I(),+d),M=(d,_)=>(typeof d=="string"||typeof d=="number")&&n.modelType?g(d):_,j=d=>Array.isArray(d)?[M(d[0],Ve(null,+d[0].hours,+d[0].minutes,d[0].seconds)),M(d[1],Ve(null,+d[1].hours,+d[1].minutes,d[1].seconds))]:M(d,Ve(null,d.hours,d.minutes,d.seconds)),Y=d=>{const _=s.set(I(),{date:1});return Array.isArray(d)?n.multiDates?d.map(k=>M(k,Ye(_,+k.month,+k.year))):it(()=>[M(d[0],Ye(_,+d[0].month,+d[0].year)),M(d[1],d[1]?Ye(_,+d[1].month,+d[1].year):Qe(c.value.partialRange))],c.value.enabled):M(d,Ye(_,+d.month,+d.year))},O=d=>{if(Array.isArray(d))return d.map(_=>g(_));throw new Error(Pt.dateArr("multi-dates"))},V=d=>{if(Array.isArray(d)&&c.value.enabled){const _=d[0],k=d[1];return[I(Array.isArray(_)?_[0]:null),I(Array.isArray(k)?k[0]:null)]}return I(d[0])},v=d=>n.modelAuto?Array.isArray(d)?[g(d[0]),g(d[1])]:n.autoApply?[g(d)]:[g(d),null]:Array.isArray(d)?it(()=>d[1]?[g(d[0]),d[1]?g(d[1]):Qe(c.value.partialRange)]:[g(d[0])],c.value.enabled):g(d),A=()=>{Array.isArray(r.value)&&c.value.enabled&&r.value.length===1&&r.value.push(Qe(c.value.partialRange))},H=()=>{const d=r.value;return[m(d[0]),d[1]?m(d[1]):Qe(c.value.partialRange)]},J=()=>r.value[1]?H():m(he(r.value[0])),R=()=>(r.value||[]).map(d=>m(d)),te=()=>(A(),n.modelAuto?J():n.multiDates?R():Array.isArray(r.value)?it(()=>H(),c.value.enabled):m(he(r.value))),ne=d=>!d||Array.isArray(d)&&!d.length?null:n.timePicker?j(he(d)):n.monthPicker?Y(he(d)):n.yearPicker?C(he(d)):n.multiDates?O(he(d)):n.weekPicker?V(he(d)):v(he(d)),z=d=>{const _=ne(d);Rt(he(_))?(r.value=he(_),X()):(r.value=null,f.value="")},h=()=>{const d=_=>s.format(_,a.value.format);return`${d(r.value[0])} ${a.value.rangeSeparator} ${r.value[1]?d(r.value[1]):""}`},T=()=>o.value&&r.value?Array.isArray(r.value)?h():s.format(r.value,a.value.format):b(r.value),x=()=>r.value?n.multiDates?r.value.map(d=>b(d)).join("; "):a.value.enabled&&typeof a.value.format=="string"?T():b(r.value):"",X=()=>{!n.format||typeof n.format=="string"||a.value.enabled&&typeof a.value.format=="string"?f.value=x():f.value=n.format(r.value)},g=d=>{if(n.utc){const _=new Date(d);return n.utc==="preserve"?new Date(_.getTime()+_.getTimezoneOffset()*6e4):_}return n.modelType?n.modelType==="date"||n.modelType==="timestamp"?$(new Date(d)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?s.parse(d,l(),new Date):$(s.parse(d,n.modelType,new Date)):$(new Date(d))},m=d=>d?n.utc?ia(d,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+D(d):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?b(D(d)):b(D(d),n.modelType,!0):D(d):"",W=(d,_=!1)=>{if(t("update:model-value",d),n.emitTimezone&&_){const k=Array.isArray(d)?d.map(Q=>Te(he(Q)),n.emitTimezone):Te(he(d),n.emitTimezone);t("update:model-timezone-value",k)}},F=d=>Array.isArray(r.value)?n.multiDates?r.value.map(_=>d(_)):[d(r.value[0]),r.value[1]?d(r.value[1]):Qe(c.value.partialRange)]:d(he(r.value)),u=()=>{if(Array.isArray(r.value)){const d=Ee(r.value[0],n.timezone,n.weekStart),_=r.value[1]?Ee(r.value[1],n.timezone,n.weekStart):[];return[d.map(k=>I(k)),_.map(k=>I(k))]}return Ee(r.value,n.timezone,n.weekStart).map(d=>I(d))},w=d=>W(he(F(d)));return{inputValue:f,internalModelValue:r,checkBeforeEmit:()=>r.value?c.value.enabled?c.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:z,formatInputValue:X,emitModelValue:()=>(X(),n.monthPicker?w(E):n.timePicker?w(N):n.yearPicker?w(s.getYear):n.weekPicker?t("update:model-value",u()):W(te(),!0))}},$a=(t,n)=>{const{defaultedFilters:o}=me(t),{validateMonthYearInRange:r}=Ue(t),a=(D,$)=>{let b=D;return o.value.months.includes(s.getMonth(b))?(b=$?s.addMonths(D,1):s.subMonths(D,1),a(b,$)):b},c=(D,$)=>{let b=D;return o.value.years.includes(s.getYear(b))?(b=$?s.addYears(D,1):s.subYears(D,1),c(b,$)):b},l=(D,$=!1)=>{const b=s.set(new Date,{month:t.month,year:t.year});let N=D?s.addMonths(b,1):s.subMonths(b,1);t.disableYearSelect&&(N=s.setYear(N,t.year));let E=s.getMonth(N),C=s.getYear(N);o.value.months.includes(E)&&(N=a(N,D),E=s.getMonth(N),C=s.getYear(N)),o.value.years.includes(C)&&(N=c(N,D),C=s.getYear(N)),r(E,C,D,t.preventMinMaxNavigation)&&f(E,C,$)},f=(D,$,b)=>{n("update-month-year",{month:D,year:$,fromNav:b})},S=e.computed(()=>D=>hn(s.set(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,D));return{handleMonthYearChange:l,isDisabled:S,updateMonthYear:f}};var Ze=(t=>(t.center="center",t.left="left",t.right="right",t))(Ze||{}),Be=(t=>(t.month="month",t.year="year",t))(Be||{}),Ke=(t=>(t.top="top",t.bottom="bottom",t))(Ke||{}),We=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(We||{}),Ne=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Ne||{});const Aa=({menuRef:t,menuRefInner:n,inputRef:o,pickerWrapperRef:r,inline:a,emit:c,props:l,slots:f})=>{const S=e.ref({}),D=e.ref(!1),$=e.ref({top:"0",left:"0"}),b=e.ref(!1),N=e.toRef(l,"teleportCenter");e.watch(N,()=>{$.value=JSON.parse(JSON.stringify({})),v()});const E=g=>{if(l.teleport){const m=g.getBoundingClientRect();return{left:m.left+window.scrollX,top:m.top+window.scrollY}}return{top:0,left:0}},C=(g,m)=>{$.value.left=`${g+m-S.value.width}px`},M=g=>{$.value.left=`${g}px`},j=(g,m)=>{l.position===Ze.left&&M(g),l.position===Ze.right&&C(g,m),l.position===Ze.center&&($.value.left=`${g+m/2-S.value.width/2}px`)},Y=g=>{const{width:m,height:W}=g.getBoundingClientRect(),{top:F,left:u}=l.altPosition?l.altPosition(g):E(g);return{top:+F,left:+u,width:m,height:W}},O=()=>{$.value.left="50%",$.value.top="50%",$.value.transform="translate(-50%, -50%)",$.value.position="fixed",delete $.value.opacity},V=()=>{const g=ye(o),{top:m,left:W,transform:F}=l.altPosition(g);$.value={top:`${m}px`,left:`${W}px`,transform:F??""}},v=(g=!0)=>{var m;if(!a.value.enabled){if(N.value)return O();if(l.altPosition!==null)return V();if(g){const W=l.teleport?(m=n.value)==null?void 0:m.$el:t.value;W&&(S.value=W.getBoundingClientRect()),c("recalculate-position")}return z()}},A=({inputEl:g,left:m,width:W})=>{window.screen.width>768&&!D.value&&j(m,W),R(g)},H=g=>{const{top:m,left:W,height:F,width:u}=Y(g);$.value.top=`${F+m+ +l.offset}px`,b.value=!1,D.value||($.value.left=`${W+u/2-S.value.width/2}px`),A({inputEl:g,left:W,width:u})},J=g=>{const{top:m,left:W,width:F}=Y(g);$.value.top=`${m-+l.offset-S.value.height}px`,b.value=!0,A({inputEl:g,left:W,width:F})},R=g=>{if(l.autoPosition){const{left:m,width:W}=Y(g),{left:F,right:u}=S.value;if(!D.value){if(Math.abs(F)!==Math.abs(u)){if(F<=0)return D.value=!0,M(m);if(u>=document.documentElement.clientWidth)return D.value=!0,C(m,W)}return j(m,W)}}},te=()=>{const g=ye(o);if(g){const{height:m}=S.value,{top:W,height:F}=g.getBoundingClientRect(),w=window.innerHeight-W-F,i=W;return m<=w?Ke.bottom:m>w&&m<=i?Ke.top:w>=i?Ke.bottom:Ke.top}return Ke.bottom},ne=g=>te()===Ke.bottom?H(g):J(g),z=()=>{const g=ye(o);if(g)return l.autoPosition?ne(g):H(g)},h=function(g){if(g){const m=g.scrollHeight>g.clientHeight,F=window.getComputedStyle(g).overflowY.indexOf("hidden")!==-1;return m&&!F}return!0},T=function(g){return!g||g===document.body||g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:h(g)?g:T(g.parentNode)},x=g=>{if(g)switch(l.position){case Ze.left:return{left:0,transform:"translateX(0)"};case Ze.right:return{left:`${g.width}px`,transform:"translateX(-100%)"};default:return{left:`${g.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:b,menuStyle:$,xCorrect:D,setMenuPosition:v,getScrollableParent:T,shadowRender:(g,m)=>{var B,d,_;const W=document.createElement("div"),F=(B=ye(o))==null?void 0:B.getBoundingClientRect();W.setAttribute("id","dp--temp-container");const u=(d=r.value)!=null&&d.clientWidth?r.value:document.body;u.append(W);const w=x(F),i=e.h(g,{...m,shadow:!0,style:{opacity:0,position:"absolute",...w}},Object.fromEntries(Object.keys(f).filter(k=>["right-sidebar","left-sidebar"].includes(k)).map(k=>[k,f[k]])));e.render(i,W),S.value=(_=i.el)==null?void 0:_.getBoundingClientRect(),e.render(null,W),u.removeChild(W)}}},ze=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],Pa=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Na={all:()=>ze,monthYear:()=>ze.filter(t=>t.use.includes("month-year")),input:()=>Pa,timePicker:()=>ze.filter(t=>t.use.includes("time")),action:()=>ze.filter(t=>t.use.includes("action")),calendar:()=>ze.filter(t=>t.use.includes("calendar")),menu:()=>ze.filter(t=>t.use.includes("menu")),shared:()=>ze.filter(t=>t.use.includes("shared")),yearMode:()=>ze.filter(t=>t.use.includes("year-mode"))},Me=(t,n,o)=>{const r=[];return Na[n]().forEach(a=>{t[a.name]&&r.push(a.name)}),o!=null&&o.length&&o.forEach(a=>{a.slot&&r.push(a.slot)}),r},tt=t=>{const n=e.computed(()=>r=>t.value?r?t.value.open:t.value.close:""),o=e.computed(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:o}},nt=(t,n)=>{const o=I(Te(new Date,t.timezone)),{defaultedRange:r}=me(t),a=e.ref([{month:s.getMonth(o),year:s.getYear(o)}]),c=e.reactive({hours:r.value.enabled?[s.getHours(o),s.getHours(o)]:s.getHours(o),minutes:r.value.enabled?[s.getMinutes(o),s.getMinutes(o)]:s.getMinutes(o),seconds:r.value.enabled?[0,0]:0}),l=e.computed({get:()=>t.internalModelValue,set:D=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",D)}}),f=e.computed(()=>D=>a.value[D]?a.value[D].month:0),S=e.computed(()=>D=>a.value[D]?a.value[D].year:0);return{calendars:a,time:c,modelValue:l,month:f,year:S}},Ra=(t,n)=>{const{defaultedMultiCalendars:o,defaultedHighlight:r,defaultedRange:a}=me(n),{isDisabled:c,matchDate:l}=Ue(n),f=e.ref(null),S=e.ref(I(Te(new Date,n.timezone))),D=i=>{!i.current&&n.hideOffsetDates||(f.value=i.value)},$=()=>{f.value=null},b=i=>Array.isArray(t.value)&&a.value.enabled&&t.value[0]&&f.value?i?ge(f.value,t.value[0]):pe(f.value,t.value[0]):!0,N=(i,B)=>{const d=()=>t.value?B?t.value[0]||null:t.value[1]:null,_=t.value&&Array.isArray(t.value)?d():null;return ie(I(i.value),_)},E=i=>{const B=Array.isArray(t.value)?t.value[0]:null;return i?!pe(f.value??null,B):!0},C=(i,B=!0)=>(a.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!i.current?!1:ie(I(i.value),t.value[B?0:1]):a.value.enabled?N(i,B)&&E(B)||ie(i.value,Array.isArray(t.value)?t.value[0]:null)&&b(B):!1,M=(i,B,d)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?i?!1:d?ge(t.value[0],B.value):pe(t.value[0],B.value):!1,j=i=>!t.value||n.hideOffsetDates&&!i.current?!1:a.value.enabled?n.modelAuto&&Array.isArray(t.value)?ie(i.value,t.value[0]?t.value[0]:S.value):!1:n.multiDates&&Array.isArray(t.value)?t.value.some(B=>ie(B,i.value)):ie(i.value,t.value?t.value:S.value),Y=i=>{if(a.value.autoRange||n.weekPicker){if(f.value){if(n.hideOffsetDates&&!i.current)return!1;const B=s.addDays(f.value,+a.value.autoRange),d=Ee(I(f.value),n.timezone,n.weekStart);return n.weekPicker?ie(d[1],I(i.value)):ie(B,I(i.value))}return!1}return!1},O=i=>{if(a.value.autoRange||n.weekPicker){if(f.value){const B=s.addDays(f.value,+a.value.autoRange);if(n.hideOffsetDates&&!i.current)return!1;const d=Ee(I(f.value),n.timezone,n.weekStart);return n.weekPicker?ge(i.value,d[0])&&pe(i.value,d[1]):ge(i.value,f.value)&&pe(i.value,B)}return!1}return!1},V=i=>{if(a.value.autoRange||n.weekPicker){if(f.value){if(n.hideOffsetDates&&!i.current)return!1;const B=Ee(I(f.value),n.timezone,n.weekStart);return n.weekPicker?ie(B[0],i.value):ie(f.value,i.value)}return!1}return!1},v=i=>st(t.value,f.value,i.value),A=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,H=()=>n.modelAuto?on(n.internalModelValue):!0,J=i=>{if(Array.isArray(t.value)&&t.value.length||n.weekPicker)return!1;const B=a.value.enabled?!C(i)&&!C(i,!1):!0;return!c(i.value)&&!j(i)&&!(!i.current&&n.hideOffsetDates)&&B},R=i=>a.value.enabled?n.modelAuto?A()&&j(i):!1:j(i),te=i=>{var B;return r.value?typeof r.value=="function"?r.value(i.value):l(i.value,(B=n.arrMapValues)!=null&&B.highlightedDates?n.arrMapValues.highlightedDates:r.value.dates):!1},ne=i=>{const B=c(i.value);return B&&(typeof r.value=="function"?!r.value(i.value,B):!r.value.options.highlightDisabled)},z=i=>{var B;return typeof r.value=="function"?r.value(i.value):(B=r.value.weekdays)==null?void 0:B.includes(i.value.getDay())},h=i=>(a.value.enabled||n.weekPicker)&&(!(o.value.count>0)||i.current)&&H()&&!(!i.current&&n.hideOffsetDates)&&!j(i)?v(i):!1,T=i=>{const{isRangeStart:B,isRangeEnd:d}=m(i),_=a.value.enabled?B||d:!1;return{dp__cell_offset:!i.current,dp__pointer:!n.disabled&&!(!i.current&&n.hideOffsetDates)&&!c(i.value),dp__cell_disabled:c(i.value),dp__cell_highlight:!ne(i)&&(te(i)||z(i))&&!R(i)&&!_&&!V(i)&&!(h(i)&&n.weekPicker)&&!d,dp__cell_highlight_active:!ne(i)&&(te(i)||z(i))&&R(i),dp__today:!n.noToday&&ie(i.value,S.value)&&i.current,"dp--past":pe(i.value,S.value),"dp--future":ge(i.value,S.value)}},x=i=>({dp__active_date:R(i),dp__date_hover:J(i)}),X=i=>{if(t.value&&!Array.isArray(t.value)){const B=Ee(t.value,n.timezone,n.weekStart);return{...F(i),dp__range_start:ie(B[0],i.value),dp__range_end:ie(B[1],i.value),dp__range_between_week:ge(i.value,B[0])&&pe(i.value,B[1])}}return{...F(i)}},g=i=>{if(t.value&&Array.isArray(t.value)){const B=Ee(t.value[0],n.timezone,n.weekStart),d=t.value[1]?Ee(t.value[1],n.timezone,n.weekStart):[];return{...F(i),dp__range_start:ie(B[0],i.value)||ie(d[0],i.value),dp__range_end:ie(B[1],i.value)||ie(d[1],i.value),dp__range_between_week:ge(i.value,B[0])&&pe(i.value,B[1])||ge(i.value,d[0])&&pe(i.value,d[1]),dp__range_between:ge(i.value,B[1])&&pe(i.value,d[0])}}return{...F(i)}},m=i=>{const B=o.value.count>0?i.current&&C(i)&&H():C(i)&&H(),d=o.value.count>0?i.current&&C(i,!1)&&H():C(i,!1)&&H();return{isRangeStart:B,isRangeEnd:d}},W=i=>{const{isRangeStart:B,isRangeEnd:d}=m(i);return{dp__range_start:B,dp__range_end:d,dp__range_between:h(i),dp__date_hover_start:M(J(i),i,!0),dp__date_hover_end:M(J(i),i,!1)}},F=i=>({...W(i),dp__cell_auto_range:O(i),dp__cell_auto_range_start:V(i),dp__cell_auto_range_end:Y(i)}),u=i=>a.value.enabled?a.value.autoRange?F(i):n.modelAuto?{...x(i),...W(i)}:n.weekPicker?g(i):W(i):n.weekPicker?X(i):x(i);return{setHoverDate:D,clearHoverDate:$,getDayClassData:i=>n.hideOffsetDates&&!i.current?{}:{...T(i),...u(i),[n.dayClass?n.dayClass(i.value):""]:!0,[n.calendarCellClassName]:!!n.calendarCellClassName}}},Ue=t=>{const{defaultedFilters:n,defaultedHighlight:o,defaultedRange:r}=me(t),a=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},c=h=>{const T=be(l(I(h))).toISOString(),[x]=T.split("T");return x},l=h=>t.utc==="preserve"?mn(h,a()):Te(h,a()),f=h=>{var i;const T=t.maxDate?ge(h,l(I(t.maxDate))):!1,x=t.minDate?pe(h,l(I(t.minDate))):!1,X=b(l(h),(i=t.arrMapValues)!=null&&i.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),m=n.value.months.map(B=>+B).includes(s.getMonth(h)),W=t.disabledWeekDays.length?t.disabledWeekDays.some(B=>+B===s.getDay(h)):!1,F=E(h),u=s.getYear(h),w=u<+t.yearRange[0]||u>+t.yearRange[1];return!(T||x||X||m||w||W||F)},S=(h,T)=>pe(...Oe(t.minDate,h,T))||ie(...Oe(t.minDate,h,T)),D=(h,T)=>ge(...Oe(t.maxDate,h,T))||ie(...Oe(t.maxDate,h,T)),$=(h,T,x)=>{let X=!1;return t.maxDate&&x&&D(h,T)&&(X=!0),t.minDate&&!x&&S(h,T)&&(X=!0),X},b=(h,T)=>h?T instanceof Map?!!T.get(c(h)):Array.isArray(T)?T.some(x=>ie(l(I(x)),h)):T?T(I(JSON.parse(JSON.stringify(h)))):!1:!0,N=(h,T,x,X)=>{let g=!1;return X?t.minDate&&t.maxDate?g=$(h,T,x):(t.minDate&&S(h,T)||t.maxDate&&D(h,T))&&(g=!0):g=!0,g},E=h=>{var T,x,X,g,m;return Array.isArray(t.allowedDates)&&!((T=t.allowedDates)!=null&&T.length)?!0:(x=t.arrMapValues)!=null&&x.allowedDates?!b(h,(X=t.arrMapValues)==null?void 0:X.allowedDates):(g=t.allowedDates)!=null&&g.length?!((m=t.allowedDates)!=null&&m.some(W=>ie(be(W),l(be(h))))):!1},C=h=>!f(h),M=h=>r.value.noDisabledRange?!s.eachDayOfInterval({start:h[0],end:h[1]}).some(x=>C(x)):!0,j=(h,T,x=0)=>{if(Array.isArray(T)&&T[x]&&(r.value.maxRange||r.value.minRange)){const X=s.differenceInCalendarDays(h,T[x]),g=pn(T[x],h),m=g.length===1?0:g.filter(F=>C(F)).length,W=Math.abs(X)-(r.value.minMaxRawRange?0:m);if(r.value.minRange&&r.value.maxRange)return W>=+r.value.minRange&&W<=+r.value.maxRange;if(r.value.minRange)return W>=+r.value.minRange;if(r.value.maxRange)return W<=+r.value.maxRange}return!0},Y=h=>new Map(h.map(T=>[c(T),!0])),O=h=>Array.isArray(h)&&h.length>0,V=()=>{const h={disabledDates:null,allowedDates:null,highlightedDates:null};return O(t.allowedDates)&&(h.allowedDates=Y(t.allowedDates)),typeof o.value!="function"&&O(o.value.dates)&&(h.highlightedDates=Y(o.value.dates)),O(t.disabledDates)&&(h.disabledDates=Y(t.disabledDates)),h},v=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,A=h=>Array.isArray(h)?[h[0]?_t(h[0]):null,h[1]?_t(h[1]):null]:_t(h),H=(h,T,x)=>h.find(X=>+X.hours===s.getHours(T)&&X.minutes==="*"?!0:+X.minutes===s.getMinutes(T)&&+X.hours===s.getHours(T))&&x,J=(h,T,x)=>{const[X,g]=h,[m,W]=T;return!H(X,m,x)&&!H(g,W,x)&&x},R=(h,T)=>{const x=Array.isArray(T)?T:[T];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?J(t.disabledTimes,x,h):!x.some(X=>H(t.disabledTimes,X,h)):h},te=(h,T)=>{const x=Array.isArray(T)?[Le(T[0]),T[1]?Le(T[1]):void 0]:Le(T),X=!t.disabledTimes(x);return h&&X},ne=(h,T)=>t.disabledTimes?Array.isArray(t.disabledTimes)?R(T,h):te(T,h):T;return{isDisabled:C,validateDate:f,validateMonthYearInRange:N,isDateRangeAllowed:M,checkMinMaxRange:j,matchDate:b,mapDatesArrToMap:V,isValidTime:h=>{let T=!0;if(!h||v())return!0;const x=!t.minDate&&!t.maxDate?A(h):h;return(t.maxTime||t.maxDate)&&(T=kn(t.maxTime,t.maxDate,"max",he(x),T)),(t.minTime||t.minDate)&&(T=kn(t.minTime,t.minDate,"min",he(x),T)),ne(h,T)}}},ct=()=>{const t=e.computed(()=>(r,a)=>r==null?void 0:r.includes(a)),n=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===0:!0),o=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:o}},Ea=(t,n,o)=>{const r=e.ref(0),a=e.reactive({[We.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[We.calendar]:!1,[We.header]:!1}),c=e.computed(()=>t.monthPicker),l=b=>{var N;if((N=t.flow)!=null&&N.length){if(!b&&c.value)return $();a[b]=!0,Object.keys(a).filter(E=>!a[E]).length||$()}},f=()=>{var b;(b=t.flow)!=null&&b.length&&r.value!==-1&&(r.value+=1,n("flow-step",r.value),$())},S=()=>{r.value=-1},D=(b,N,...E)=>{var C,M;t.flow[r.value]===b&&o.value&&((M=(C=o.value)[N])==null||M.call(C,...E))},$=()=>{D(Ne.month,"toggleMonthPicker",!0),D(Ne.year,"toggleYearPicker",!0),D(Ne.calendar,"toggleTimePicker",!1,!0),D(Ne.time,"toggleTimePicker",!0,!0);const b=t.flow[r.value];(b===Ne.hours||b===Ne.minutes||b===Ne.seconds)&&D(b,"toggleTimePicker",!0,!0,b)};return{childMount:l,updateFlowStep:f,resetFlow:S,flowStep:r}},dt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},$e={...dt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null}},Ya={key:1,class:"dp__input_wrap"},_a=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Va={key:2,class:"dp__clear_icon"},Oa=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...dt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:n,emit:o}){const r=o,a=t,{defaultedTextInput:c,defaultedAriaLabels:l,defaultedInline:f,defaultedConfig:S,defaultedRange:D,getDefaultPattern:$,getDefaultStartTime:b}=me(a),{checkMinMaxRange:N}=Ue(a),E=e.ref(),C=e.ref(null),M=e.ref(!1),j=e.ref(!1),Y=e.computed(()=>({dp__pointer:!a.disabled&&!a.readonly&&!c.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!c.value.enabled,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:!!a.state,dp__input_invalid:a.state===!1,dp__input_focus:M.value||a.isMenuOpen,dp__input_reg:!c.value.enabled,[a.inputClassName]:!!a.inputClassName})),O=()=>{r("set-input-date",null),a.autoApply&&(r("set-empty-date"),E.value=null)},V=m=>{const W=b();return sa(m,c.value.format??$(),W??gn({},a.enableSeconds),a.inputValue,j.value)},v=m=>{const{rangeSeparator:W}=c.value,[F,u]=m.split(`${W}`);if(F){const w=V(F.trim()),i=u?V(u.trim()):null,B=w&&i?[w,i]:[w];N(i,B,0)&&(E.value=w?B:null)}},A=()=>{j.value=!0},H=m=>{if(D.value.enabled)v(m);else if(a.multiDates){const W=m.split(";");E.value=W.map(F=>V(F.trim())).filter(F=>F)}else E.value=V(m)},J=m=>{var F;const W=typeof m=="string"?m:(F=m.target)==null?void 0:F.value;W!==""?(c.value.openMenu&&!a.isMenuOpen&&r("open"),H(W),r("set-input-date",E.value)):O(),j.value=!1,r("update:input-value",W)},R=m=>{c.value.enabled?(H(m.target.value),c.value.enterSubmit&&Rt(E.value)&&a.inputValue!==""?(r("set-input-date",E.value,!0),E.value=null):c.value.enterSubmit&&a.inputValue===""&&(E.value=null,r("clear"))):z(m)},te=m=>{c.value.enabled&&c.value.tabSubmit&&H(m.target.value),c.value.tabSubmit&&Rt(E.value)&&a.inputValue!==""?(r("set-input-date",E.value,!0,!0),E.value=null):c.value.tabSubmit&&a.inputValue===""&&(E.value=null,r("clear",!0))},ne=()=>{var m;M.value=!0,r("focus"),c.value.enabled&&c.value.selectOnFocus&&((m=C.value)==null||m.select())},z=m=>{m.preventDefault(),_e(m,S.value,!0),c.value.enabled&&c.value.openMenu&&!f.value.input&&!a.isMenuOpen?r("open"):c.value.enabled||r("toggle")},h=()=>{r("real-blur"),M.value=!1,(!a.isMenuOpen||f.value.enabled&&f.value.input)&&r("blur"),a.autoApply&&c.value.enabled&&E.value&&!a.isMenuOpen&&(r("set-input-date",E.value),r("select-date"),E.value=null)},T=m=>{_e(m,S.value,!0),r("clear")},x=m=>{if(!c.value.enabled){if(m.code==="Tab")return;m.preventDefault()}};return n({focusInput:()=>{var m;(m=C.value)==null||m.focus({preventScroll:!0})},setParsedDate:m=>{E.value=m}}),(m,W)=>{var F;return e.openBlock(),e.createElementBlock("div",{onClick:z},[m.$slots.trigger&&!m.$slots["dp-input"]&&!e.unref(f).enabled?e.renderSlot(m.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!m.$slots.trigger&&(!e.unref(f).enabled||e.unref(f).input)?(e.openBlock(),e.createElementBlock("div",Ya,[m.$slots["dp-input"]&&!m.$slots.trigger&&(!e.unref(f).enabled||e.unref(f).enabled&&e.unref(f).input)?e.renderSlot(m.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:J,onEnter:R,onTab:te,onClear:T,onBlur:h,onKeypress:x,onPaste:A,openMenu:()=>m.$emit("open"),closeMenu:()=>m.$emit("close"),toggleMenu:()=>m.$emit("toggle")}):e.createCommentVNode("",!0),m.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:m.uid?`dp-input-${m.uid}`:void 0,ref_key:"inputRef",ref:C,name:m.name,class:e.normalizeClass(Y.value),inputmode:e.unref(c).enabled?"text":"none",placeholder:m.placeholder,disabled:m.disabled,readonly:m.readonly,required:m.required,value:t.inputValue,autocomplete:m.autocomplete,"aria-label":(F=e.unref(l))==null?void 0:F.input,"aria-disabled":m.disabled||void 0,"aria-invalid":m.state===!1?!0:void 0,onInput:J,onKeydown:[e.withKeys(R,["enter"]),e.withKeys(te,["tab"]),x],onBlur:h,onFocus:ne,onKeypress:x,onPaste:A},null,42,_a)),e.createElementVNode("div",{onClick:W[2]||(W[2]=u=>r("toggle"))},[m.$slots["input-icon"]&&!m.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:W[0]||(W[0]=u=>r("toggle"))},[e.renderSlot(m.$slots,"input-icon")])):e.createCommentVNode("",!0),!m.$slots["input-icon"]&&!m.hideInputIcon&&!m.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(xe),{key:1,class:"dp__input_icon dp__input_icons",onClick:W[1]||(W[1]=u=>r("toggle"))})):e.createCommentVNode("",!0)]),m.$slots["clear-icon"]&&t.inputValue&&m.clearable&&!m.disabled&&!m.readonly?(e.openBlock(),e.createElementBlock("span",Va,[e.renderSlot(m.$slots,"clear-icon",{clear:T})])):e.createCommentVNode("",!0),m.clearable&&!m.$slots["clear-icon"]&&t.inputValue&&!m.disabled&&!m.readonly?(e.openBlock(),e.createBlock(e.unref(Qt),{key:3,class:"dp__clear_icon dp__input_icons",onClick:W[3]||(W[3]=e.withModifiers(u=>T(u),["prevent"]))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Ia=["title"],za={class:"dp__action_buttons","data-dp-element":"action-row"},Ha=["disabled"],La=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...$e},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const o=n,r=t,{defaultedActionRow:a,defaultedPreviewFormat:c,defaultedMultiCalendars:l,defaultedTextInput:f,defaultedInline:S,defaultedRange:D,getDefaultPattern:$}=me(r),{isValidTime:b}=Ue(r),{buildMatrix:N}=Ie(),E=e.ref(null),C=e.ref(null);e.onMounted(()=>{r.arrowNavigation&&N([ye(E),ye(C)],"actionRow")});const M=e.computed(()=>D.value.enabled&&!D.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),j=e.computed(()=>!Y.value||!O.value||!M.value),Y=e.computed(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:b(r.internalModelValue)),O=e.computed(()=>r.monthPicker?D.value.enabled&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(h=>!te(h)).length:te(r.internalModelValue):!0),V=()=>{const z=c.value;return r.timePicker||r.monthPicker,z(he(r.internalModelValue))},v=()=>{const z=r.internalModelValue;return l.value.count>0?`${A(z[0])} - ${A(z[1])}`:[A(z[0]),A(z[1])]},A=z=>yn(z,c.value,r.formatLocale,f.value.rangeSeparator,r.modelAuto,$()),H=e.computed(()=>!r.internalModelValue||!r.menuMount?"":typeof c.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?v():r.multiDates?r.internalModelValue.map(z=>`${A(z)}`):r.modelAuto?`${A(r.internalModelValue[0])}`:`${A(r.internalModelValue[0])} -`:A(r.internalModelValue):V()),J=()=>r.multiDates?"; ":" - ",R=e.computed(()=>Array.isArray(H.value)?H.value.join(J()):H.value),te=z=>{if(!r.monthPicker)return!0;let h=!0;const T=I(Ce(z));if(r.minDate&&r.maxDate){const x=I(Ce(r.minDate)),X=I(Ce(r.maxDate));return ge(T,x)&&pe(T,X)||ie(T,x)||ie(T,X)}if(r.minDate){const x=I(Ce(r.minDate));h=ge(T,x)||ie(T,x)}if(r.maxDate){const x=I(Ce(r.maxDate));h=pe(T,x)||ie(T,x)}return h},ne=()=>{Y.value&&O.value&&M.value?o("select-date"):o("invalid-select")};return(z,h)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[z.$slots["action-row"]?e.renderSlot(z.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:z.internalModelValue,disabled:j.value,selectDate:()=>z.$emit("select-date"),closePicker:()=>z.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(a).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:R.value},[z.$slots["action-preview"]?e.renderSlot(z.$slots,"action-preview",{key:0,value:z.internalModelValue}):e.createCommentVNode("",!0),z.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(R.value),1)],64))],8,Ia)):e.createCommentVNode("",!0),e.createElementVNode("div",za,[z.$slots["action-buttons"]?e.renderSlot(z.$slots,"action-buttons",{key:0,value:z.internalModelValue}):e.createCommentVNode("",!0),z.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(S).enabled&&e.unref(a).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:E,type:"button",class:"dp__action_button dp__action_cancel",onClick:h[0]||(h[0]=T=>z.$emit("close-picker")),onKeydown:[h[1]||(h[1]=e.withKeys(T=>z.$emit("close-picker"),["enter"])),h[2]||(h[2]=e.withKeys(T=>z.$emit("close-picker"),["space"]))]},e.toDisplayString(z.cancelText),545)):e.createCommentVNode("",!0),e.unref(a).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:h[3]||(h[3]=T=>z.$emit("select-now")),onKeydown:[h[4]||(h[4]=e.withKeys(T=>z.$emit("select-now"),["enter"])),h[5]||(h[5]=e.withKeys(T=>z.$emit("select-now"),["space"]))]},e.toDisplayString(z.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(a).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:C,type:"button",class:"dp__action_button dp__action_select",disabled:j.value,onKeydown:[e.withKeys(ne,["enter"]),e.withKeys(ne,["space"])],onClick:ne},e.toDisplayString(z.selectText),41,Ha)):e.createCommentVNode("",!0)],64))])],64))],4))}}),Ka=["onKeydown"],Wa={class:"dp__selection_grid_header"},Ua=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],ja=["aria-label"],at=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:o}){const{setSelectionGrid:r,buildMultiLevelMatrix:a,setMonthPicker:c}=Ie(),l=o,f=t,{defaultedAriaLabels:S,defaultedTextInput:D,defaultedConfig:$}=me(f),{hideNavigationButtons:b}=ct(),N=e.ref(!1),E=e.ref(null),C=e.ref(null),M=e.ref([]),j=e.ref(),Y=e.ref(null),O=e.ref(0),V=e.ref(null);e.onBeforeUpdate(()=>{E.value=null}),e.onMounted(()=>{e.nextTick().then(()=>z()),f.noOverlayFocus||A(),v(!0)}),e.onUnmounted(()=>v(!1));const v=u=>{var w;f.arrowNavigation&&((w=f.headerRefs)!=null&&w.length?c(u):r(u))},A=()=>{var w;const u=ye(C);u&&(D.value.enabled||(E.value?(w=E.value)==null||w.focus({preventScroll:!0}):u.focus({preventScroll:!0})),N.value=u.clientHeight<u.scrollHeight)},H=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!f.useRelative,"dp--overlay-relative":f.useRelative})),J=e.computed(()=>f.useRelative?{height:`${f.height}px`,width:"260px"}:void 0),R=e.computed(()=>({dp__overlay_col:!0})),te=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:N.value,dp__button_bottom:f.isLast})),ne=e.computed(()=>{var u,w;return{dp__overlay_container:!0,dp__container_flex:((u=f.items)==null?void 0:u.length)<=6,dp__container_block:((w=f.items)==null?void 0:w.length)>6}});e.watch(()=>f.items,()=>z(!1),{deep:!0});const z=(u=!0)=>{e.nextTick().then(()=>{const w=ye(E),i=ye(C),B=ye(Y),d=ye(V),_=B?B.getBoundingClientRect().height:0;i&&(i.getBoundingClientRect().height?O.value=i.getBoundingClientRect().height-_:O.value=$.value.modeHeight-_),w&&d&&u&&(d.scrollTop=w.offsetTop-d.offsetTop-(O.value/2-w.getBoundingClientRect().height)-_)})},h=u=>{u.disabled||l("selected",u.value)},T=()=>{l("toggle"),l("reset-flow")},x=()=>{f.escClose&&T()},X=(u,w,i,B)=>{u&&((w.active||w.value===f.focusValue)&&(E.value=u),f.arrowNavigation&&(Array.isArray(M.value[i])?M.value[i][B]=u:M.value[i]=[u],g()))},g=()=>{var w,i;const u=(w=f.headerRefs)!=null&&w.length?[f.headerRefs].concat(M.value):M.value.concat([f.skipButtonRef?[]:[Y.value]]);a(he(u),(i=f.headerRefs)!=null&&i.length?"monthPicker":"selectionGrid")},m=u=>{f.arrowNavigation||_e(u,$.value,!0)},W=u=>{j.value=u,l("hover-value",u)},F=()=>{if(T(),!f.isLast){const u=la(f.menuWrapRef??null,"action-row");if(u){const w=un(u);w==null||w.focus()}}};return n({focusGrid:A}),(u,w)=>{var i;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:C,class:e.normalizeClass(H.value),style:e.normalizeStyle(J.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(x,["prevent"]),["esc"]),w[0]||(w[0]=e.withKeys(e.withModifiers(B=>m(B),["prevent"]),["left"])),w[1]||(w[1]=e.withKeys(e.withModifiers(B=>m(B),["prevent"]),["up"])),w[2]||(w[2]=e.withKeys(e.withModifiers(B=>m(B),["prevent"]),["down"])),w[3]||(w[3]=e.withKeys(e.withModifiers(B=>m(B),["prevent"]),["right"]))]},[e.createElementVNode("div",{ref_key:"containerRef",ref:V,class:e.normalizeClass(ne.value),role:"grid",style:e.normalizeStyle({height:`${O.value}px`})},[e.createElementVNode("div",Wa,[e.renderSlot(u.$slots,"header")]),u.$slots.overlay?e.renderSlot(u.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(u.items,(B,d)=>(e.openBlock(),e.createElementBlock("div",{key:d,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:u.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B,(_,k)=>(e.openBlock(),e.createElementBlock("div",{key:_.value,ref_for:!0,ref:Q=>X(Q,_,d,k),role:"gridcell",class:e.normalizeClass(R.value),"aria-selected":_.active||void 0,"aria-disabled":_.disabled||void 0,tabindex:"0",onClick:Q=>h(_),onKeydown:[e.withKeys(e.withModifiers(Q=>h(_),["prevent"]),["enter"]),e.withKeys(e.withModifiers(Q=>h(_),["prevent"]),["space"])],onMouseover:Q=>W(_.value)},[e.createElementVNode("div",{class:e.normalizeClass(_.className)},[u.$slots.item?e.renderSlot(u.$slots,"item",{key:0,item:_}):e.createCommentVNode("",!0),u.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(_.text),1)],64))],2)],42,Ua))),128))],2))),128))],6),u.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:Y,type:"button","aria-label":(i=e.unref(S))==null?void 0:i.toggleOverlay,class:e.normalizeClass(te.value),tabindex:"0",onClick:T,onKeydown:[e.withKeys(T,["enter"]),e.withKeys(F,["tab"])]},[e.renderSlot(u.$slots,"button-icon")],42,ja)),[[e.vShow,!e.unref(b)(u.hideNavigation,u.type)]]):e.createCommentVNode("",!0)],46,Ka)}}}),ft=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,o=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),r=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(a,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0,"dp--flex-display-collapsed":a.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(l,f)=>(e.openBlock(),e.createElementBlock("div",{key:l,class:e.normalizeClass(r.value)},[e.renderSlot(a.$slots,"default",{instance:l,index:f})],2))),128))],2))}}),xa=["aria-label","aria-disabled"],rt=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const o=n,r=e.ref(null);return e.onMounted(()=>o("set-ref",r)),(a,c)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":a.ariaLabel,"aria-disabled":a.disabled||void 0,onClick:c[0]||(c[0]=l=>a.$emit("activate")),onKeydown:[c[1]||(c[1]=e.withKeys(e.withModifiers(l=>a.$emit("activate"),["prevent"]),["enter"])),c[2]||(c[2]=e.withKeys(e.withModifiers(l=>a.$emit("activate"),["prevent"]),["space"]))]},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:a.disabled}])},[e.renderSlot(a.$slots,"default")],2)],40,xa))}}),qa={class:"dp--year-mode-picker"},Ga=["aria-label"],vn=e.defineComponent({__name:"YearModePicker",props:{...$e,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const o=n,r=t,{showRightIcon:a,showLeftIcon:c}=ct(),{defaultedConfig:l,defaultedMultiCalendars:f,defaultedAriaLabels:S,defaultedTransitions:D}=me(r),{showTransition:$,transitionName:b}=tt(D),N=(M=!1,j)=>{o("toggle-year-picker",{flow:M,show:j})},E=M=>{o("year-select",M)},C=(M=!1)=>{o("handle-year",M)};return(M,j)=>{var Y,O,V;return e.openBlock(),e.createElementBlock("div",qa,[e.unref(c)(e.unref(f),t.instance)?(e.openBlock(),e.createBlock(rt,{key:0,ref:"mpPrevIconRef","aria-label":(Y=e.unref(S))==null?void 0:Y.prevYear,disabled:t.isDisabled(!1),onActivate:j[0]||(j[0]=v=>C(!1))},{default:e.withCtx(()=>[M.$slots["arrow-left"]?e.renderSlot(M.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),M.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(kt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(O=e.unref(S))==null?void 0:O.openYearsOverlay,onClick:j[1]||(j[1]=()=>N(!1)),onKeydown:j[2]||(j[2]=e.withKeys(()=>N(!1),["enter"]))},[M.$slots.year?e.renderSlot(M.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),M.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ga),e.unref(a)(e.unref(f),t.instance)?(e.openBlock(),e.createBlock(rt,{key:1,ref:"mpNextIconRef","aria-label":(V=e.unref(S))==null?void 0:V.nextYear,disabled:t.isDisabled(!0),onActivate:j[3]||(j[3]=v=>C(!0))},{default:e.withCtx(()=>[M.$slots["arrow-right"]?e.renderSlot(M.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),M.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(b)(t.showYearPicker),css:e.unref($)},{default:e.withCtx(()=>[t.showYearPicker?(e.openBlock(),e.createBlock(at,{key:0,items:t.items,"text-input":M.textInput,"esc-close":M.escClose,config:M.config,"is-last":M.autoApply&&!e.unref(l).keepActionRow,"hide-navigation":M.hideNavigation,type:"year",onToggle:N,onSelected:j[4]||(j[4]=v=>E(v))},e.createSlots({"button-icon":e.withCtx(()=>[M.$slots["calendar-icon"]?e.renderSlot(M.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),M.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(xe),{key:1}))]),_:2},[M.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:v})=>[e.renderSlot(M.$slots,"year-overlay-value",{text:v.text,value:v.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])])}}}),Lt=(t,n,o)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(r=>ie(t,r))){const r=n.value.filter(a=>!ie(a,t));n.value=r.length?r:null}else(o&&+o>n.value.length||!o)&&n.value.push(t);else n.value=[t]},Kt=(t,n,o)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?pe(n,r[0])?(r.unshift(n),o("range-start",r[0]),o("range-start",r[1])):(r[1]=n,o("range-end",n)):(r=[n],o("range-start",n)),t.value=r,r},mt=(t,n,o,r)=>{t[0]&&t[1]&&o&&n("auto-apply"),t[0]&&!t[1]&&r&&o&&n("auto-apply")},Sn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Te(I(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Te(I(t.value),t.timezone))},Cn=({multiCalendars:t,highlight:n,calendars:o,modelValue:r,props:a,year:c,month:l,emit:f})=>{const S=e.computed(()=>At(a.yearRange,a.reverseYears)),D=e.ref([!1]),$=e.computed(()=>(v,A)=>{const H=s.set(Ce(new Date),{month:l.value(v),year:c.value(v)});return hn(H,a.maxDate,a.minDate,a.preventMinMaxNavigation,A)}),b=()=>{for(let v=0;v<t.value.count;v++)if(v===0)o.value[v]=o.value[0];else{const A=s.set(I(),o.value[v-1]);o.value[v]={month:s.getMonth(A),year:s.getYear(s.addYears(A,1))}}},N=v=>{if(!v)return b();const A=s.set(I(),o.value[v]);return o.value[0].year=s.getYear(s.subYears(A,t.value.count-1)),b()},E=v=>a.focusStartDate?v[0]:v[1]?v[1]:v[0],C=()=>{if(r.value){const v=Array.isArray(r.value)?E(r.value):r.value;o.value[0]={month:s.getMonth(v),year:s.getYear(v)}}};e.onMounted(()=>{C(),t.value.count&&b()});const M=(v,A)=>{o.value[A].year=v,t.value.count&&!t.value.solo&&N(A)},j=e.computed(()=>v=>qe(S.value,A=>{const H=c.value(v)===A.value,J=Fe(A.value,Ge(a.minDate),Ge(a.maxDate)),R=Vt(n.value,A.value);return{active:H,disabled:J,highlighted:R}})),Y=(v,A)=>{M(v,A),V(A)},O=(v,A=!1)=>{if(!$.value(v,A)){const H=A?c.value(v)+1:c.value(v)-1;M(H,v)}},V=(v,A=!1,H)=>{A||f("reset-flow"),H!==void 0?D.value[v]=H:D.value[v]=!D.value[v],D.value||f("overlay-closed")};return{isDisabled:$,groupedYears:j,showYearPicker:D,selectYear:M,toggleYearPicker:V,handleYearSelect:Y,handleYear:O}},Qa=(t,n)=>{const{defaultedMultiCalendars:o,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:c,defaultedRange:l,defaultedHighlight:f}=me(t),{modelValue:S,year:D,month:$,calendars:b}=nt(t,n),N=e.computed(()=>rn(t.formatLocale,t.locale,t.monthNameFormat)),E=e.ref(null),{selectYear:C,groupedYears:M,showYearPicker:j,toggleYearPicker:Y,handleYearSelect:O,handleYear:V,isDisabled:v}=Cn({modelValue:S,multiCalendars:o,highlight:f,calendars:b,year:D,month:$,props:t,emit:n});e.onMounted(()=>{t.startDate&&(S.value&&t.focusStartDate||!S.value)&&C(s.getYear(I(t.startDate)),0)});const A=u=>u?{month:s.getMonth(u),year:s.getYear(u)}:{month:null,year:null},H=()=>S.value?Array.isArray(S.value)?S.value.map(u=>A(u)):A(S.value):A(),J=(u,w)=>{const i=b.value[u],B=H();return Array.isArray(B)?B.some(d=>d.year===(i==null?void 0:i.year)&&d.month===w):(i==null?void 0:i.year)===B.year&&w===B.month},R=(u,w,i)=>{var d,_;const B=H();return Array.isArray(B)?D.value(w)===((d=B[i])==null?void 0:d.year)&&u===((_=B[i])==null?void 0:_.month):!1},te=(u,w)=>{if(l.value.enabled){const i=H();if(Array.isArray(S.value)&&Array.isArray(i)){const B=R(u,w,0)||R(u,w,1),d=Ye(Ce(I()),u,D.value(w));return st(S.value,E.value,d)&&!B}return!1}return!1},ne=e.computed(()=>u=>qe(N.value,w=>{const i=J(u,w.value),B=Fe(w.value,dn(D.value(u),t.minDate),fn(D.value(u),t.maxDate))||pa(t.disabledDates,D.value(u)).includes(w.value),d=te(w.value,u),_=wn(f.value,w.value,D.value(u));return{active:i,disabled:B,isBetween:d,highlighted:_}})),z=(u,w)=>Ye(Ce(I()),u,D.value(w)),h=(u,w)=>{const i=S.value?S.value:Ce(new Date);S.value=Ye(i,u,D.value(w)),n("auto-apply"),n("update-flow-step")},T=(u,w)=>{const i=Kt(S,z(u,w),n);mt(i,n,t.autoApply,t.modelAuto)},x=(u,w)=>{Lt(z(u,w),S,t.multiDatesLimit),n("auto-apply",!0)},X=(u,w)=>(b.value[w].month=u,m(w,b.value[w].year,u),t.multiDates?x(u,w):l.value.enabled?T(u,w):h(u,w)),g=(u,w)=>{C(u,w),m(w,u,null)},m=(u,w,i)=>{let B=i;if(!B&&B!==0){const d=H();B=Array.isArray(d)?d[u].month:d.month}n("update-month-year",{instance:u,year:w,month:B})};return{groupedMonths:ne,groupedYears:M,year:D,isDisabled:v,defaultedMultiCalendars:o,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:c,showYearPicker:j,modelValue:S,presetDate:(u,w)=>{Sn({value:u,modelValue:S,range:l.value.enabled,timezone:w?void 0:t.timezone}),n("auto-apply")},setHoverDate:(u,w)=>{E.value=z(u,w)},selectMonth:X,selectYear:g,toggleYearPicker:Y,handleYearSelect:O,handleYear:V,getModelMonthYear:H}},Za=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...$e},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount"],setup(t,{expose:n,emit:o}){const r=o,a=e.useSlots(),c=Me(a,"yearMode"),l=t;e.onMounted(()=>{l.shadow||r("mount",null)});const{groupedMonths:f,groupedYears:S,year:D,isDisabled:$,defaultedMultiCalendars:b,defaultedConfig:N,showYearPicker:E,modelValue:C,presetDate:M,setHoverDate:j,selectMonth:Y,selectYear:O,toggleYearPicker:V,handleYearSelect:v,handleYear:A,getModelMonthYear:H}=Qa(l,r);return n({getSidebarProps:()=>({modelValue:C,year:D,getModelMonthYear:H,selectMonth:Y,selectYear:O,handleYear:A}),presetDate:M,toggleYearPicker:R=>V(0,R)}),(R,te)=>(e.openBlock(),e.createBlock(ft,{"multi-calendars":e.unref(b).count,collapse:R.collapse,stretch:""},{default:e.withCtx(({instance:ne})=>[R.$slots["month-year"]?e.renderSlot(R.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{year:e.unref(D),months:e.unref(f)(ne),years:e.unref(S)(ne),selectMonth:e.unref(Y),selectYear:e.unref(O),instance:ne}))):(e.openBlock(),e.createBlock(at,{key:1,items:e.unref(f)(ne),"arrow-navigation":R.arrowNavigation,"is-last":R.autoApply&&!e.unref(N).keepActionRow,"esc-close":R.escClose,height:e.unref(N).modeHeight,config:R.config,"no-overlay-focus":!!(R.noOverlayFocus||R.textInput),"use-relative":"",type:"month",onSelected:z=>e.unref(Y)(z,ne),onHoverValue:z=>e.unref(j)(z,ne)},{header:e.withCtx(()=>[e.createVNode(vn,e.mergeProps(R.$props,{items:e.unref(S)(ne),instance:ne,"show-year-picker":e.unref(E)[ne],year:e.unref(D)(ne),"is-disabled":z=>e.unref($)(ne,z),onHandleYear:z=>e.unref(A)(ne,z),onYearSelect:z=>e.unref(v)(z,ne),onToggleYearPicker:z=>e.unref(V)(ne,z==null?void 0:z.flow,z==null?void 0:z.show)}),e.createSlots({_:2},[e.renderList(e.unref(c),(z,h)=>({name:z,fn:e.withCtx(T=>[e.renderSlot(R.$slots,z,e.normalizeProps(e.guardReactiveProps(T)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Xa=(t,n)=>{const{modelValue:o}=nt(t,n),r=e.ref(null),{defaultedHighlight:a,defaultedFilters:c,defaultedRange:l}=me(t),f=e.ref();e.onMounted(()=>{t.startDate&&(o.value&&t.focusStartDate||!o.value)&&(f.value=s.getYear(I(t.startDate)))});const S=C=>Array.isArray(o.value)?o.value.some(M=>s.getYear(M)===C):o.value?s.getYear(o.value)===C:!1,D=C=>l.value.enabled&&Array.isArray(o.value)?st(o.value,r.value,b(C)):!1,$=e.computed(()=>qe(At(t.yearRange,t.reverseYears),C=>{const M=S(C.value),j=Fe(C.value,Ge(t.minDate),Ge(t.maxDate))||c.value.years.includes(C.value),Y=D(C.value)&&!M,O=Vt(a.value,C.value);return{active:M,disabled:j,isBetween:Y,highlighted:O}})),b=C=>s.setYear(Ce(new Date),C);return{groupedYears:$,modelValue:o,focusYear:f,setHoverValue:C=>{r.value=s.setYear(Ce(new Date),C)},selectYear:C=>{var M;if(n("update-month-year",{instance:0,year:C}),t.multiDates)return o.value?Array.isArray(o.value)&&(((M=o.value)==null?void 0:M.map(Y=>s.getYear(Y))).includes(C)?o.value=o.value.filter(Y=>s.getYear(Y)!==C):o.value.push(s.setYear(be(I()),C))):o.value=[s.setYear(be(I()),C)],n("auto-apply",!0);if(l.value.enabled){const j=Kt(o,b(C),n);return mt(j,n,t.autoApply,t.modelAuto)}o.value=b(C),n("auto-apply")}}},Ja=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...$e},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:o}){const r=o,a=t,{groupedYears:c,modelValue:l,focusYear:f,selectYear:S,setHoverValue:D}=Xa(a,r),{defaultedConfig:$}=me(a);return n({getSidebarProps:()=>({modelValue:l,selectYear:S})}),(N,E)=>(e.openBlock(),e.createElementBlock("div",null,[N.$slots["month-year"]?e.renderSlot(N.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{years:e.unref(c),selectYear:e.unref(S)}))):(e.openBlock(),e.createBlock(at,{key:1,items:e.unref(c),"is-last":N.autoApply&&!e.unref($).keepActionRow,height:e.unref($).modeHeight,config:N.config,"no-overlay-focus":!!(N.noOverlayFocus||N.textInput),"focus-value":e.unref(f),type:"year","use-relative":"",onSelected:e.unref(S),onHoverValue:e.unref(D)},e.createSlots({_:2},[N.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:C})=>[e.renderSlot(N.$slots,"year-overlay-value",{text:C.text,value:C.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Fa={key:0,class:"dp__time_input"},er=["aria-label","onKeydown","onClick"],tr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),nr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),ar=["aria-label","disabled","onKeydown","onClick"],rr=["aria-label","onKeydown","onClick"],or=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),lr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),sr={key:0},ir=["aria-label","onKeydown"],ur=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...$e},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,{setTimePickerElements:c,setTimePickerBackRef:l}=Ie(),{defaultedAriaLabels:f,defaultedTransitions:S,defaultedFilters:D,defaultedConfig:$,defaultedRange:b}=me(a),{transitionName:N,showTransition:E}=tt(S),C=e.reactive({hours:!1,minutes:!1,seconds:!1}),M=e.ref("AM"),j=e.ref(null),Y=e.ref([]);e.onMounted(()=>{r("mounted")});const O=p=>s.set(new Date,{hours:p.hours,minutes:p.minutes,seconds:a.enableSeconds?p.seconds:0,milliseconds:0}),V=e.computed(()=>p=>X(p,a[p])||A(p,a[p])),v=e.computed(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),A=(p,q)=>b.value.enabled&&!b.value.disableTimeRangeValidation?!a.validateTime(p,q):!1,H=(p,q)=>{if(b.value.enabled&&!b.value.disableTimeRangeValidation){const ue=q?+a[`${p}Increment`]:-+a[`${p}Increment`],L=a[p]+ue;return!a.validateTime(p,L)}return!1},J=e.computed(()=>p=>!F(+a[p]+ +a[`${p}Increment`],p)||H(p,!0)),R=e.computed(()=>p=>!F(+a[p]-+a[`${p}Increment`],p)||H(p,!1)),te=(p,q)=>s.add(s.set(I(),p),q),ne=(p,q)=>s.sub(s.set(I(),p),q),z=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),h=e.computed(()=>{const p=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return a.enableSeconds?p.concat([{type:"",separator:!0},{type:"seconds"}]):p}),T=e.computed(()=>h.value.filter(p=>!p.separator)),x=e.computed(()=>p=>{if(p==="hours"){const q=d(+a.hours);return{text:q<10?`0${q}`:`${q}`,value:q}}return{text:a[p]<10?`0${a[p]}`:`${a[p]}`,value:a[p]}}),X=(p,q)=>{var L;if(!a.disabledTimesConfig)return!1;const ue=a.disabledTimesConfig(a.order,p==="hours"?q:void 0);return ue[p]?!!((L=ue[p])!=null&&L.includes(q)):!0},g=p=>{const q=a.is24?24:12,ue=p==="hours"?q:60,L=+a[`${p}GridIncrement`],P=p==="hours"&&!a.is24?L:0,K=[];for(let le=P;le<ue;le+=L)K.push({value:le,text:le<10?`0${le}`:`${le}`});return p==="hours"&&!a.is24&&K.push({value:0,text:"12"}),qe(K,le=>({active:!1,disabled:D.value.times[p].includes(le.value)||!F(le.value,p)||X(p,le.value)||A(p,le.value)}))},m=p=>p>=0?p:59,W=p=>p>=0?p:23,F=(p,q)=>{const ue=a.minTime?O(Nt(a.minTime)):null,L=a.maxTime?O(Nt(a.maxTime)):null,P=O(Nt(v.value,q,q==="minutes"||q==="seconds"?m(p):W(p)));return ue&&L?(s.isBefore(P,L)||s.isEqual(P,L))&&(s.isAfter(P,ue)||s.isEqual(P,ue)):ue?s.isAfter(P,ue)||s.isEqual(P,ue):L?s.isBefore(P,L)||s.isEqual(P,L):!0},u=p=>a[`no${p[0].toUpperCase()+p.slice(1)}Overlay`],w=p=>{u(p)||(C[p]=!C[p],C[p]||r("overlay-closed"))},i=p=>p==="hours"?s.getHours:p==="minutes"?s.getMinutes:s.getSeconds,B=(p,q=!0)=>{const ue=q?te:ne,L=q?+a[`${p}Increment`]:-+a[`${p}Increment`];F(+a[p]+L,p)&&r(`update:${p}`,i(p)(ue({[p]:+a[p]},{[p]:+a[`${p}Increment`]})))},d=p=>a.is24?p:(p>=12?M.value="PM":M.value="AM",ta(p)),_=()=>{M.value==="PM"?(M.value="AM",r("update:hours",a.hours-12)):(M.value="PM",r("update:hours",a.hours+12)),r("am-pm-change",M.value)},k=p=>{C[p]=!0},Q=(p,q,ue)=>{if(p&&a.arrowNavigation){Array.isArray(Y.value[q])?Y.value[q][ue]=p:Y.value[q]=[p];const L=Y.value.reduce((P,K)=>K.map((le,ce)=>[...P[ce]||[],K[ce]]),[]);l(a.closeTimePickerBtn),j.value&&(L[1]=L[1].concat(j.value)),c(L,a.order)}},ee=(p,q)=>(w(p),p==="hours"&&!a.is24?r(`update:${p}`,M.value==="PM"?q+12:q):r(`update:${p}`,q));return n({openChildCmp:k}),(p,q)=>{var ue;return p.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Fa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(L,P)=>{var K,le,ce;return e.openBlock(),e.createElementBlock("div",{key:P,class:e.normalizeClass(z.value)},[L.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:U=>Q(U,P,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!p.timePickerInline,dp__inc_dec_button_inline:p.timePickerInline,dp__tp_inline_btn_top:p.timePickerInline,dp__inc_dec_button_disabled:J.value(L.type)}),"aria-label":(K=e.unref(f))==null?void 0:K.incrementValue(L.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(U=>B(L.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(U=>B(L.type),["prevent"]),["space"])],onClick:U=>B(L.type)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[tr,nr],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[p.$slots["arrow-up"]?e.renderSlot(p.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],64))],42,er),e.createElementVNode("button",{ref_for:!0,ref:U=>Q(U,P,1),type:"button","aria-label":(le=e.unref(f))==null?void 0:le.openTpOverlay(L.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!p.timePickerInline,dp__time_display_inline:p.timePickerInline,"dp--time-invalid":V.value(L.type),"dp--time-overlay-btn":!V.value(L.type)}),disabled:u(L.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(U=>w(L.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(U=>w(L.type),["prevent"]),["space"])],onClick:U=>w(L.type)},[p.$slots[L.type]?e.renderSlot(p.$slots,L.type,{key:0,text:x.value(L.type).text,value:x.value(L.type).value}):e.createCommentVNode("",!0),p.$slots[L.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(x.value(L.type).text),1)],64))],42,ar),e.createElementVNode("button",{ref_for:!0,ref:U=>Q(U,P,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!p.timePickerInline,dp__inc_dec_button_inline:p.timePickerInline,dp__tp_inline_btn_bottom:p.timePickerInline,dp__inc_dec_button_disabled:R.value(L.type)}),"aria-label":(ce=e.unref(f))==null?void 0:ce.decrementValue(L.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(U=>B(L.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(U=>B(L.type,!1),["prevent"]),["space"])],onClick:U=>B(L.type,!1)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[or,lr],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[p.$slots["arrow-down"]?e.renderSlot(p.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))],64))],42,rr)],64))],2)}),128)),p.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",sr,[p.$slots["am-pm-button"]?e.renderSlot(p.$slots,"am-pm-button",{key:0,toggle:_,value:M.value}):e.createCommentVNode("",!0),p.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:j,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ue=e.unref(f))==null?void 0:ue.amPmButton,tabindex:"0",onClick:_,onKeydown:[e.withKeys(e.withModifiers(_,["prevent"]),["enter"]),e.withKeys(e.withModifiers(_,["prevent"]),["space"])]},e.toDisplayString(M.value),41,ir))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T.value,(L,P)=>(e.openBlock(),e.createBlock(e.Transition,{key:P,name:e.unref(N)(C[L.type]),css:e.unref(E)},{default:e.withCtx(()=>[C[L.type]?(e.openBlock(),e.createBlock(at,{key:0,items:g(L.type),"is-last":p.autoApply&&!e.unref($).keepActionRow,"esc-close":p.escClose,type:L.type,"text-input":p.textInput,config:p.config,"arrow-navigation":p.arrowNavigation,onSelected:K=>ee(L.type,K),onToggle:K=>w(L.type),onResetFlow:q[0]||(q[0]=K=>p.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[p.$slots["clock-icon"]?e.renderSlot(p.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(p.timePickerInline?e.unref(xe):e.unref(bt)),{key:1}))]),_:2},[p.$slots[`${L.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:K})=>[e.renderSlot(p.$slots,`${L.type}-overlay-value`,{text:K.text,value:K.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),cr={class:"dp--tp-wrap"},dr=["aria-label","tabindex"],fr=["tabindex"],mr=["aria-label"],Tn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...$e},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,{buildMatrix:c,setTimePicker:l}=Ie(),f=e.useSlots(),{defaultedTransitions:S,defaultedAriaLabels:D,defaultedTextInput:$,defaultedConfig:b,defaultedRange:N}=me(a),{transitionName:E,showTransition:C}=tt(S),{hideNavigationButtons:M}=ct(),j=e.ref(null),Y=e.ref(null),O=e.ref([]),V=e.ref(null);e.onMounted(()=>{r("mount"),!a.timePicker&&a.arrowNavigation?c([ye(j.value)],"time"):l(!0,a.timePicker)});const v=e.computed(()=>N.value.enabled&&a.modelAuto?on(a.internalModelValue):!0),A=e.ref(!1),H=g=>({hours:Array.isArray(a.hours)?a.hours[g]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[g]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[g]:a.seconds}),J=e.computed(()=>{const g=[];if(N.value.enabled)for(let m=0;m<2;m++)g.push(H(m));else g.push(H(0));return g}),R=(g,m=!1,W="")=>{m||r("reset-flow"),A.value=g,r(g?"overlay-opened":"overlay-closed"),a.arrowNavigation&&l(g),e.nextTick(()=>{W!==""&&O.value[0]&&O.value[0].openChildCmp(W)})},te=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!b.value.keepActionRow})),ne=Me(f,"timePicker"),z=(g,m,W)=>N.value.enabled?m===0?[g,J.value[1][W]]:[J.value[0][W],g]:g,h=g=>{r("update:hours",g)},T=g=>{r("update:minutes",g)},x=g=>{r("update:seconds",g)},X=()=>{if(V.value&&!$.value.enabled&&!a.noOverlayFocus){const g=un(V.value);g&&g.focus({preventScroll:!0})}};return n({toggleTimePicker:R}),(g,m)=>{var W;return e.openBlock(),e.createElementBlock("div",cr,[!g.timePicker&&!g.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:j,type:"button",class:e.normalizeClass(te.value),"aria-label":(W=e.unref(D))==null?void 0:W.openTimePicker,tabindex:g.noOverlayFocus?void 0:0,onKeydown:[m[0]||(m[0]=e.withKeys(F=>R(!0),["enter"])),m[1]||(m[1]=e.withKeys(F=>R(!0),["space"]))],onClick:m[2]||(m[2]=F=>R(!0))},[g.$slots["clock-icon"]?e.renderSlot(g.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))],42,dr)),[[e.vShow,!e.unref(M)(g.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(E)(A.value),css:e.unref(C)&&!g.timePickerInline},{default:e.withCtx(()=>{var F;return[A.value||g.timePicker||g.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:V,class:e.normalizeClass({dp__overlay:!g.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!g.timePickerInline,"dp--overlay-relative":a.timePicker}),style:e.normalizeStyle(g.timePicker?{height:`${e.unref(b).modeHeight}px`}:void 0),tabindex:g.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(g.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[g.$slots["time-picker-overlay"]?e.renderSlot(g.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:h,setMinutes:T,setSeconds:x}):e.createCommentVNode("",!0),g.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(g.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(J.value,(u,w)=>e.withDirectives((e.openBlock(),e.createBlock(ur,e.mergeProps({key:w},{...g.$props,order:w,hours:u.hours,minutes:u.minutes,seconds:u.seconds,closeTimePickerBtn:Y.value,disabledTimesConfig:t.disabledTimesConfig,disabled:w===0?g.fixedStart:g.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:O,"validate-time":(i,B)=>t.validateTime(i,z(B,w,i)),"onUpdate:hours":i=>h(z(i,w,"hours")),"onUpdate:minutes":i=>T(z(i,w,"minutes")),"onUpdate:seconds":i=>x(z(i,w,"seconds")),onMounted:X,onOverlayClosed:X,onAmPmChange:m[3]||(m[3]=i=>g.$emit("am-pm-change",i))}),e.createSlots({_:2},[e.renderList(e.unref(ne),(i,B)=>({name:i,fn:e.withCtx(d=>[e.renderSlot(g.$slots,i,e.normalizeProps(e.guardReactiveProps(d)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,w===0?!0:v.value]])),128))],2)),!g.timePicker&&!g.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:Y,type:"button",class:e.normalizeClass(te.value),"aria-label":(F=e.unref(D))==null?void 0:F.closeTimePicker,tabindex:"0",onKeydown:[m[4]||(m[4]=e.withKeys(u=>R(!1),["enter"])),m[5]||(m[5]=e.withKeys(u=>R(!1),["space"]))],onClick:m[6]||(m[6]=u=>R(!1))},[g.$slots["calendar-icon"]?e.renderSlot(g.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(xe),{key:1}))],42,mr)),[[e.vShow,!e.unref(M)(g.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,fr)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Bn=(t,n,o,r)=>{const{defaultedRange:a}=me(t),c=(V,v)=>Array.isArray(n[V])?n[V][v]:n[V],l=V=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[V]:n.seconds:0,f=(V,v)=>V?v!==void 0?Ve(V,c("hours",v),c("minutes",v),l(v)):Ve(V,n.hours,n.minutes,l()):s.setSeconds(I(),l(v)),S=(V,v)=>{n[V]=v},D=e.computed(()=>t.modelAuto&&a.value.enabled?Array.isArray(o.value)?!o.value.some(V=>!V):!1:a.value.enabled),$=(V,v)=>{const A=Object.fromEntries(Object.keys(n).map(H=>H===V?[H,v]:[H,n[H]].slice()));if(D.value&&!a.value.disableTimeRangeValidation){const H=R=>o.value?Ve(o.value[R],A.hours[R],A.minutes[R],A.seconds[R]):null,J=R=>s.setMilliseconds(o.value[R],0);return!(ie(H(0),H(1))&&(s.isAfter(H(0),J(1))||s.isBefore(H(1),J(0))))}return!0},b=(V,v)=>{$(V,v)&&(S(V,v),r&&r())},N=V=>{b("hours",V)},E=V=>{b("minutes",V)},C=V=>{b("seconds",V)},M=(V,v,A,H)=>{v&&N(V),!v&&!A&&E(V),A&&C(V),o.value&&H(o.value)},j=V=>{if(V){const v=Array.isArray(V),A=v?[+V[0].hours,+V[1].hours]:+V.hours,H=v?[+V[0].minutes,+V[1].minutes]:+V.minutes,J=v?[+V[0].seconds,+V[1].seconds]:+V.seconds;S("hours",A),S("minutes",H),t.enableSeconds&&S("seconds",J)}},Y=(V,v)=>{const A={hours:Array.isArray(n.hours)?n.hours[V]:n.hours,disabledArr:[]};return(v||v===0)&&(A.hours=v),Array.isArray(t.disabledTimes)&&(A.disabledArr=a.value.enabled&&Array.isArray(t.disabledTimes[V])?t.disabledTimes[V]:t.disabledTimes),A},O=e.computed(()=>(V,v)=>{var A;if(Array.isArray(t.disabledTimes)){const{disabledArr:H,hours:J}=Y(V,v),R=H.filter(te=>+te.hours===J);return((A=R[0])==null?void 0:A.minutes)==="*"?{hours:[J],minutes:void 0,seconds:void 0}:{hours:[],minutes:(R==null?void 0:R.map(te=>+te.minutes))??[],seconds:(R==null?void 0:R.map(te=>te.seconds?+te.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:S,updateHours:N,updateMinutes:E,updateSeconds:C,getSetDateTime:f,updateTimeValues:M,getSecondsValue:l,assignStartTime:j,validateTime:$,disabledTimesConfig:O}},pr=(t,n)=>{const{modelValue:o,time:r}=nt(t,n),{defaultedStartTime:a,defaultedRange:c}=me(t),{updateTimeValues:l,getSetDateTime:f,setTime:S,assignStartTime:D,disabledTimesConfig:$,validateTime:b}=Bn(t,r,o),N=v=>{const{hours:A,minutes:H,seconds:J}=v;return{hours:+A,minutes:+H,seconds:J?+J:0}},E=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const A=N(t.startTime[0]),H=N(t.startTime[1]);return[s.set(I(),A),s.set(I(),H)]}const v=N(t.startTime);return s.set(I(),v)}return c.value.enabled?[null,null]:null},C=()=>{if(c.value.enabled){const[v,A]=E();o.value=[f(v,0),f(A,1)]}else o.value=f(E())},M=v=>Array.isArray(v)?[Le(I(v[0])),Le(I(v[1]))]:[Le(v??I())],j=(v,A,H)=>{S("hours",v),S("minutes",A),S("seconds",t.enableSeconds?H:0)},Y=()=>{const[v,A]=M(o.value);return c.value.enabled?j([v.hours,A.hours],[v.minutes,A.minutes],[v.seconds,A.minutes]):j(v.hours,v.minutes,v.seconds)};e.onMounted(()=>{if(!t.shadow)return D(a.value),o.value?Y():C()});const O=()=>{Array.isArray(o.value)?o.value=o.value.map((v,A)=>v&&f(v,A)):o.value=f(o.value),n("time-update")};return{modelValue:o,time:r,disabledTimesConfig:$,updateTime:(v,A=!0,H=!1)=>{l(v,A,H,O)},validateTime:b}},gr=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...$e},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,c=e.useSlots(),l=Me(c,"timePicker"),{time:f,modelValue:S,disabledTimesConfig:D,updateTime:$,validateTime:b}=pr(a,r);return n({getSidebarProps:()=>({modelValue:S,time:f,updateTime:$})}),(E,C)=>(e.openBlock(),e.createBlock(ft,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(Tn,e.mergeProps(E.$props,{hours:e.unref(f).hours,minutes:e.unref(f).minutes,seconds:e.unref(f).seconds,"internal-model-value":E.internalModelValue,"disabled-times-config":e.unref(D),"validate-time":e.unref(b),"onUpdate:hours":C[0]||(C[0]=M=>e.unref($)(M)),"onUpdate:minutes":C[1]||(C[1]=M=>e.unref($)(M,!1)),"onUpdate:seconds":C[2]||(C[2]=M=>e.unref($)(M,!1,!0)),onAmPmChange:C[3]||(C[3]=M=>E.$emit("am-pm-change",M))}),e.createSlots({_:2},[e.renderList(e.unref(l),(M,j)=>({name:M,fn:e.withCtx(Y=>[e.renderSlot(E.$slots,M,e.normalizeProps(e.guardReactiveProps(Y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),hr={class:"dp__month_year_row"},yr=["aria-label","onClick","onKeydown"],kr=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...$e},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:n,emit:o}){const r=o,a=t,{defaultedTransitions:c,defaultedAriaLabels:l,defaultedMultiCalendars:f,defaultedFilters:S,defaultedConfig:D,defaultedHighlight:$}=me(a),{transitionName:b,showTransition:N}=tt(c),{buildMatrix:E}=Ie(),{handleMonthYearChange:C,isDisabled:M,updateMonthYear:j}=$a(a,r),{showLeftIcon:Y,showRightIcon:O}=ct(),V=e.ref(!1),v=e.ref(!1),A=e.ref([null,null,null,null]);e.onMounted(()=>{r("mount")});const H=u=>({get:()=>a[u],set:w=>{const i=u===Be.month?Be.year:Be.month;r("update-month-year",{[u]:w,[i]:a[i]}),u===Be.month?x(!0):X(!0)}}),J=e.computed(H(Be.month)),R=e.computed(H(Be.year)),te=e.computed(()=>u=>({month:a.month,year:a.year,items:u===Be.month?a.months:a.years,instance:a.instance,updateMonthYear:j,toggle:u===Be.month?x:X})),ne=e.computed(()=>{const u=a.months.find(w=>w.value===a.month);return u||{text:"",value:0}}),z=e.computed(()=>qe(a.months,u=>{const w=a.month===u.value,i=Fe(u.value,dn(a.year,a.minDate),fn(a.year,a.maxDate))||S.value.months.includes(u.value),B=wn($.value,u.value,a.year);return{active:w,disabled:i,highlighted:B}})),h=e.computed(()=>qe(a.years,u=>{const w=a.year===u.value,i=Fe(u.value,Ge(a.minDate),Ge(a.maxDate))||S.value.years.includes(u.value),B=Vt($.value,u.value);return{active:w,disabled:i,highlighted:B}})),T=(u,w)=>{w!==void 0?u.value=w:u.value=!u.value,u.value||r("overlay-closed")},x=(u=!1,w)=>{g(u),T(V,w)},X=(u=!1,w)=>{g(u),T(v,w)},g=u=>{u||r("reset-flow")},m=(u,w)=>{a.arrowNavigation&&(A.value[w]=ye(u),E(A.value,"monthYear"))},W=e.computed(()=>{var u,w;return[{type:Be.month,index:1,toggle:x,modelValue:J.value,updateModelValue:i=>J.value=i,text:ne.value.text,showSelectionGrid:V.value,items:z.value,ariaLabel:(u=l.value)==null?void 0:u.openMonthsOverlay},{type:Be.year,index:2,toggle:X,modelValue:R.value,updateModelValue:i=>R.value=i,text:a.year,showSelectionGrid:v.value,items:h.value,ariaLabel:(w=l.value)==null?void 0:w.openYearsOverlay}]}),F=e.computed(()=>a.disableYearSelect?[W.value[0]]:a.yearFirst?[...W.value].reverse():W.value);return n({toggleMonthPicker:x,toggleYearPicker:X,handleMonthYearChange:C}),(u,w)=>{var i,B,d;return e.openBlock(),e.createElementBlock("div",hr,[u.$slots["month-year"]?e.renderSlot(u.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(j),handleMonthYearChange:e.unref(C),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(Y)(e.unref(f),t.instance)&&!u.vertical?(e.openBlock(),e.createBlock(rt,{key:0,"aria-label":(i=e.unref(l))==null?void 0:i.prevMonth,disabled:e.unref(M)(!1),onActivate:w[0]||(w[0]=_=>e.unref(C)(!1,!0)),onSetRef:w[1]||(w[1]=_=>m(_,0))},{default:e.withCtx(()=>[u.$slots["arrow-left"]?e.renderSlot(u.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(kt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:u.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(F.value,(_,k)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:_.type},[e.createElementVNode("button",{ref_for:!0,ref:Q=>m(Q,k+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":_.ariaLabel,onClick:_.toggle,onKeydown:[e.withKeys(e.withModifiers(_.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(_.toggle,["prevent"]),["space"])]},[u.$slots[_.type]?e.renderSlot(u.$slots,_.type,{key:0,text:_.text,value:a[_.type]}):e.createCommentVNode("",!0),u.$slots[_.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(_.text),1)],64))],40,yr),e.createVNode(e.Transition,{name:e.unref(b)(_.showSelectionGrid),css:e.unref(N)},{default:e.withCtx(()=>[_.showSelectionGrid?(e.openBlock(),e.createBlock(at,{key:0,items:_.items,"arrow-navigation":u.arrowNavigation,"hide-navigation":u.hideNavigation,"is-last":u.autoApply&&!e.unref(D).keepActionRow,"skip-button-ref":!1,config:u.config,type:_.type,"header-refs":[],"esc-close":u.escClose,"menu-wrap-ref":u.menuWrapRef,"text-input":u.textInput,onSelected:_.updateModelValue,onToggle:_.toggle},e.createSlots({"button-icon":e.withCtx(()=>[u.$slots["calendar-icon"]?e.renderSlot(u.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),u.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(xe),{key:1}))]),_:2},[u.$slots[`${_.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(u.$slots,`${_.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,u.$slots[`${_.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(u.$slots,`${_.type}-overlay`,e.normalizeProps(e.guardReactiveProps(te.value(_.type))))]),key:"1"}:void 0,u.$slots[`${_.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(u.$slots,`${_.type}-overlay-header`,{toggle:_.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(Y)(e.unref(f),t.instance)&&u.vertical?(e.openBlock(),e.createBlock(rt,{key:1,"aria-label":(B=e.unref(l))==null?void 0:B.prevMonth,disabled:e.unref(M)(!1),onActivate:w[2]||(w[2]=_=>e.unref(C)(!1,!0))},{default:e.withCtx(()=>[u.$slots["arrow-up"]?e.renderSlot(u.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(O)(e.unref(f),t.instance)?(e.openBlock(),e.createBlock(rt,{key:2,ref:"rightIcon",disabled:e.unref(M)(!0),"aria-label":(d=e.unref(l))==null?void 0:d.nextMonth,onActivate:w[3]||(w[3]=_=>e.unref(C)(!0,!0)),onSetRef:w[4]||(w[4]=_=>m(_,u.disableYearSelect?2:3))},{default:e.withCtx(()=>[u.$slots[u.vertical?"arrow-down":"arrow-right"]?e.renderSlot(u.$slots,u.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),u.$slots[u.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u.vertical?e.unref(Mt):e.unref(wt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64))])}}}),wr=["aria-label"],br={class:"dp__calendar_header",role:"row"},Dr={key:0,class:"dp__calendar_header_item",role:"gridcell"},Mr=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),vr=["aria-label"],Sr={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Cr={class:"dp__cell_inner"},Tr=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Br=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...$e},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:o}){const r=o,a=t,{buildMultiLevelMatrix:c}=Ie(),{defaultedTransitions:l,defaultedConfig:f,defaultedAriaLabels:S,defaultedMultiCalendars:D,defaultedWeekNumbers:$}=me(a),b=e.ref(null),N=e.ref({bottom:"",left:"",transform:""}),E=e.ref([]),C=e.ref(null),M=e.ref(!0),j=e.ref(""),Y=e.ref({startX:0,endX:0,startY:0,endY:0}),O=e.ref([]),V=e.ref({left:"50%"}),v=e.computed(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),A=e.computed(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):ea(a.formatLocale,a.locale,+a.weekStart));e.onMounted(()=>{r("mount",{cmp:"calendar",refs:E}),f.value.noSwipe||C.value&&(C.value.addEventListener("touchstart",g,{passive:!1}),C.value.addEventListener("touchend",m,{passive:!1}),C.value.addEventListener("touchmove",W,{passive:!1})),a.monthChangeOnScroll&&C.value&&C.value.addEventListener("wheel",w,{passive:!1})});const H=k=>k?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",J=(k,Q)=>{if(a.transitions){const ee=be(Ye(I(),a.month,a.year));j.value=ge(be(Ye(I(),k,Q)),ee)?l.value[H(!0)]:l.value[H(!1)],M.value=!1,e.nextTick(()=>{M.value=!0})}},R=e.computed(()=>({[a.calendarClassName]:!!a.calendarClassName})),te=e.computed(()=>k=>{const Q=na(k);return{dp__marker_dot:Q.type==="dot",dp__marker_line:Q.type==="line"}}),ne=e.computed(()=>k=>ie(k,b.value)),z=e.computed(()=>({dp__calendar:!0,dp__calendar_next:D.value.count>0&&a.instance!==0})),h=e.computed(()=>k=>a.hideOffsetDates?k.current:!0),T=k=>s.format(k,"yyyy-MM-dd"),x=async(k,Q,ee)=>{var p,q;if(r("set-hover-date",k),(q=(p=k.marker)==null?void 0:p.tooltip)!=null&&q.length){const ue=ye(E.value[Q][ee]);if(ue){const{width:L,height:P}=ue.getBoundingClientRect();b.value=k.value;let K={left:`${L/2}px`},le=-50;if(await e.nextTick(),O.value[0]){const{left:ce,width:U}=O.value[0].getBoundingClientRect();ce<0&&(K={left:"0"},le=0,V.value.left=`${L/2}px`),window.innerWidth<ce+U&&(K={right:"0"},le=0,V.value.left=`${U-L/2}px`)}N.value={bottom:`${P}px`,...K,transform:`translateX(${le}%)`},r("tooltip-open",k.marker)}}},X=k=>{b.value&&(b.value=null,N.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",k.marker))},g=k=>{Y.value.startX=k.changedTouches[0].screenX,Y.value.startY=k.changedTouches[0].screenY},m=k=>{Y.value.endX=k.changedTouches[0].screenX,Y.value.endY=k.changedTouches[0].screenY,F()},W=k=>{a.vertical&&!a.inline&&k.preventDefault()},F=()=>{const k=a.vertical?"Y":"X";Math.abs(Y.value[`start${k}`]-Y.value[`end${k}`])>10&&r("handle-swipe",Y.value[`start${k}`]>Y.value[`end${k}`]?"right":"left")},u=(k,Q,ee)=>{k&&(Array.isArray(E.value[Q])?E.value[Q][ee]=k:E.value[Q]=[k]),a.arrowNavigation&&c(E.value,"calendar")},w=k=>{a.monthChangeOnScroll&&(k.preventDefault(),r("handle-scroll",k))},i=k=>$.value.type==="local"?s.getWeek(k.value,{weekStartsOn:+a.weekStart}):$.value.type==="iso"?s.getISOWeek(k.value):typeof $.value.type=="function"?$.value.type(k.value):"",B=k=>{const Q=k[0];return $.value.hideOnOffsetDates?k.some(ee=>ee.current)?i(Q):"":i(Q)},d=(k,Q)=>{_e(k,f.value),r("select-date",Q)},_=k=>{_e(k,f.value)};return n({triggerTransition:J}),(k,Q)=>{var ee;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(z.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:C,role:"grid",class:e.normalizeClass(R.value),"aria-label":(ee=e.unref(S))==null?void 0:ee.calendarWrap},[e.createElementVNode("div",br,[k.weekNumbers?(e.openBlock(),e.createElementBlock("div",Dr,e.toDisplayString(k.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(A.value,(p,q)=>(e.openBlock(),e.createElementBlock("div",{key:q,class:"dp__calendar_header_item",role:"gridcell"},[k.$slots["calendar-header"]?e.renderSlot(k.$slots,"calendar-header",{key:0,day:p,index:q}):e.createCommentVNode("",!0),k.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(p),1)],64))]))),128))]),Mr,e.createVNode(e.Transition,{name:j.value,css:!!k.transitions},{default:e.withCtx(()=>{var p;return[M.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((p=e.unref(S))==null?void 0:p.calendarDays)||void 0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v.value,(q,ue)=>(e.openBlock(),e.createElementBlock("div",{key:ue,class:"dp__calendar_row",role:"row"},[k.weekNumbers?(e.openBlock(),e.createElementBlock("div",Sr,[e.createElementVNode("div",Cr,e.toDisplayString(B(q.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(q.days,(L,P)=>{var K,le,ce;return e.openBlock(),e.createElementBlock("div",{id:T(L.value),ref_for:!0,ref:U=>u(U,ue,P),key:P+ue,role:"gridcell",class:"dp__calendar_item","aria-selected":(L.classData.dp__active_date||L.classData.dp__range_start||L.classData.dp__range_start)??void 0,"aria-disabled":L.classData.dp__cell_disabled||void 0,"aria-label":(le=(K=e.unref(S))==null?void 0:K.day)==null?void 0:le.call(K,L),tabindex:"0",onClick:e.withModifiers(U=>d(U,L),["prevent"]),onKeydown:[e.withKeys(U=>k.$emit("select-date",L),["enter"]),e.withKeys(U=>k.$emit("handle-space",L),["space"])],onMouseenter:U=>x(L,ue,P),onMouseleave:U=>X(L)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",L.classData])},[k.$slots.day&&h.value(L)?e.renderSlot(k.$slots,"day",{key:0,day:+L.text,date:L.value}):e.createCommentVNode("",!0),k.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(L.text),1)],64)),L.marker&&h.value(L)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[k.$slots.marker?e.renderSlot(k.$slots,"marker",{key:0,marker:L.marker,day:+L.text,date:L.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(te.value(L.marker)),style:e.normalizeStyle(L.marker.color?{backgroundColor:L.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),ne.value(L.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:O,class:"dp__marker_tooltip",style:e.normalizeStyle(N.value)},[(ce=L.marker)!=null&&ce.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:_},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(L.marker.tooltip,(U,Ae)=>(e.openBlock(),e.createElementBlock("div",{key:Ae,class:"dp__tooltip_text"},[k.$slots["marker-tooltip"]?e.renderSlot(k.$slots,"marker-tooltip",{key:0,tooltip:U,day:L.value}):e.createCommentVNode("",!0),k.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(U.color?{backgroundColor:U.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(U.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(V.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,Tr)}),128))]))),128))],8,vr)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,wr)],2)}}}),$n=t=>Array.isArray(t),$r=(t,n,o,r)=>{const a=e.ref([]),c=e.ref(new Date),{modelValue:l,calendars:f,time:S}=nt(t,n),{defaultedMultiCalendars:D,defaultedStartTime:$,defaultedRange:b}=me(t),{validateMonthYearInRange:N,isDisabled:E,isDateRangeAllowed:C,checkMinMaxRange:M}=Ue(t),{updateTimeValues:j,getSetDateTime:Y,setTime:O,assignStartTime:V,validateTime:v,disabledTimesConfig:A}=Bn(t,S,l,r),H=e.computed(()=>y=>f.value[y]?f.value[y].month:0),J=e.computed(()=>y=>f.value[y]?f.value[y].year:0),R=(y,G,ae)=>{var se,de;f.value[y]||(f.value[y]={month:0,year:0}),f.value[y].month=sn(G)?(se=f.value[y])==null?void 0:se.month:G,f.value[y].year=sn(ae)?(de=f.value[y])==null?void 0:de.year:ae},te=()=>{t.autoApply&&n("select-date")};e.watch(l,(y,G)=>{JSON.stringify(y)!==JSON.stringify(G)&&h()},{deep:!0}),e.onMounted(()=>{t.shadow||(l.value||(B(),$.value&&V($.value)),h(!0),t.focusStartDate&&t.startDate&&B())});const ne=e.computed(()=>{var y;return(y=t.flow)!=null&&y.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),z=()=>{t.autoApply&&ne.value&&n("auto-apply",t.partialFlow)},h=(y=!1)=>{if(l.value)return Array.isArray(l.value)?(a.value=l.value,F(y)):X(l.value,y);if(D.value.count&&y&&!t.startDate)return x(I(),y)},T=()=>Array.isArray(l.value)&&b.value.enabled?s.getMonth(l.value[0])===s.getMonth(l.value[1]??l.value[0]):!1,x=(y,G=!1)=>{if((!D.value.count||!D.value.static||G)&&R(0,s.getMonth(y),s.getYear(y)),D.value.count&&(!D.value.solo||!l.value||T()))for(let ae=1;ae<D.value.count;ae++){const se=s.set(I(),{month:H.value(ae-1),year:J.value(ae-1)}),de=s.add(se,{months:1});f.value[ae]={month:s.getMonth(de),year:s.getYear(de)}}},X=(y,G)=>{x(y),O("hours",s.getHours(y)),O("minutes",s.getMinutes(y)),O("seconds",s.getSeconds(y)),D.value.count&&G&&i()},g=y=>{if(D.value.count){if(D.value.solo)return 0;const G=s.getMonth(y[0]),ae=s.getMonth(y[1]);return Math.abs(ae-G)<D.value.count?0:1}return 1},m=(y,G)=>{y[1]&&b.value.showLastInRange?x(y[g(y)],G):x(y[0],G);const ae=(se,de)=>[se(y[0]),y[1]?se(y[1]):S[de][1]];O("hours",ae(s.getHours,"hours")),O("minutes",ae(s.getMinutes,"minutes")),O("seconds",ae(s.getSeconds,"seconds"))},W=(y,G)=>{if((b.value.enabled||t.weekPicker)&&!t.multiDates)return m(y,G);if(t.multiDates&&G){const ae=y[y.length-1];return X(ae,G)}},F=y=>{const G=l.value;W(G,y),D.value.count&&D.value.solo&&i()},u=(y,G)=>{const ae=s.set(I(),{month:H.value(G),year:J.value(G)}),se=y<0?s.addMonths(ae,1):s.subMonths(ae,1);N(s.getMonth(se),s.getYear(se),y<0,t.preventMinMaxNavigation)&&(R(G,s.getMonth(se),s.getYear(se)),n("update-month-year",{instance:G,month:s.getMonth(se),year:s.getYear(se)}),D.value.count&&!D.value.solo&&w(G),o())},w=y=>{for(let G=y-1;G>=0;G--){const ae=s.subMonths(s.set(I(),{month:H.value(G+1),year:J.value(G+1)}),1);R(G,s.getMonth(ae),s.getYear(ae))}for(let G=y+1;G<=D.value.count-1;G++){const ae=s.addMonths(s.set(I(),{month:H.value(G-1),year:J.value(G-1)}),1);R(G,s.getMonth(ae),s.getYear(ae))}},i=()=>{if(Array.isArray(l.value)&&l.value.length===2){const y=I(I(l.value[1]?l.value[1]:s.addMonths(l.value[0],1))),[G,ae]=[s.getMonth(l.value[0]),s.getYear(l.value[0])],[se,de]=[s.getMonth(l.value[1]),s.getYear(l.value[1])];(G!==se||G===se&&ae!==de)&&D.value.solo&&R(1,s.getMonth(y),s.getYear(y))}else l.value&&!Array.isArray(l.value)&&(R(0,s.getMonth(l.value),s.getYear(l.value)),x(I()))},B=()=>{t.startDate&&(R(0,s.getMonth(I(t.startDate)),s.getYear(I(t.startDate))),D.value.count&&w(0))},d=(y,G)=>{if(t.monthChangeOnScroll){const ae=new Date().getTime()-c.value.getTime(),se=Math.abs(y.deltaY);let de=500;se>1&&(de=100),se>100&&(de=0),ae>de&&(c.value=new Date,u(t.monthChangeOnScroll!=="inverse"?-y.deltaY:y.deltaY,G))}},_=(y,G,ae=!1)=>{t.monthChangeOnArrows&&t.vertical===ae&&k(y,G)},k=(y,G)=>{u(y==="right"?-1:1,G)},Q=y=>t.markers.find(G=>ie(ua(y.value),Te(I(G.date),t.timezone))),ee=(y,G)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[y==0,!0];case"fair":return[y==0||G>y,!0];case"append":return[!1,!1];default:return[!1,!1]}},p=(y,G,ae,se)=>{if(t.sixWeeks&&y.length<6){const de=6-y.length,Re=(G.getDay()+7-se)%7,oe=6-(ae.getDay()+7-se)%7,[re,je]=ee(Re,oe);for(let ve=1;ve<=de;ve++)if(je?!!(ve%2)==re:re){const yt=y[0].days[0],Gt=q(s.addDays(yt.value,-7),s.getMonth(G));y.unshift({days:Gt})}else{const yt=y[y.length-1],Gt=yt.days[yt.days.length-1],qr=q(s.addDays(Gt.value,1),s.getMonth(G));y.push({days:qr})}}return y},q=(y,G)=>{const ae=I(y),se=[];for(let de=0;de<7;de++){const Re=s.addDays(ae,de),Z=s.getMonth(Re)!==G;se.push({text:t.hideOffsetDates&&Z?"":Re.getDate(),value:Re,current:!Z,classData:{}})}return se},ue=(y,G)=>{const ae=[],se=new Date(G,y),de=new Date(G,y+1,0),Re=t.weekStart,Z=s.startOfWeek(se,{weekStartsOn:Re}),oe=re=>{const je=q(re,y);if(ae.push({days:je}),!ae[ae.length-1].days.some(ve=>ie(be(ve.value),be(de)))){const ve=s.addDays(re,7);oe(ve)}};return oe(Z),p(ae,se,de,Re)},L=y=>{const G=Ve(I(y.value),S.hours,S.minutes,Xe());n("date-update",G),t.multiDates?Lt(G,l,t.multiDatesLimit):l.value=G,r(),e.nextTick().then(()=>{z()})},P=y=>b.value.noDisabledRange?pn(a.value[0],y).some(ae=>E(ae)):!1,K=()=>{a.value=l.value?l.value.slice():[],a.value.length===2&&!(b.value.fixedStart||b.value.fixedEnd)&&(a.value=[])},le=(y,G)=>{const ae=[I(y.value),s.addDays(I(y.value),+b.value.autoRange)];C(ae)?(G&&ce(y.value),a.value=ae):n("invalid-date",y.value)},ce=y=>{const G=s.getMonth(I(y)),ae=s.getYear(I(y));if(R(0,G,ae),D.value.count>0)for(let se=1;se<D.value.count;se++){const de=ca(s.set(I(y),{year:H.value(se-1),month:J.value(se-1)}));R(se,de.month,de.year)}},U=y=>Array.isArray(l.value)&&l.value.length===2?b.value.fixedStart&&(ge(y,l.value[0])||ie(y,l.value[0]))?[l.value[0],y]:b.value.fixedEnd&&(pe(y,l.value[1])||ie(y,l.value[1]))?[y,l.value[1]]:(n("invalid-fixed-range",y),l.value):[],Ae=y=>{if(P(y.value)||!M(y.value,l.value,b.value.fixedStart?0:1))return n("invalid-date",y.value);a.value=U(I(y.value))},Pe=(y,G)=>{if(K(),b.value.autoRange)return le(y,G);if(b.value.fixedStart||b.value.fixedEnd)return Ae(y);a.value[0]?M(I(y.value),l.value)&&!P(y.value)?pe(I(y.value),I(a.value[0]))?(a.value.unshift(I(y.value)),n("range-end",a.value[0])):(a.value[1]=I(y.value),n("range-end",a.value[1])):(t.autoApply&&n("auto-apply-invalid",y.value),n("invalid-date",y.value)):(a.value[0]=I(y.value),n("range-start",a.value[0]))},Xe=(y=!0)=>t.enableSeconds?Array.isArray(S.seconds)?y?S.seconds[0]:S.seconds[1]:S.seconds:0,He=y=>{a.value[y]=Ve(a.value[y],S.hours[y],S.minutes[y],Xe(y!==1))},pt=()=>{var y,G;a.value[0]&&a.value[1]&&+((y=a.value)==null?void 0:y[0])>+((G=a.value)==null?void 0:G[1])&&(a.value.reverse(),n("range-start",a.value[0]),n("range-end",a.value[1]))},gt=()=>{a.value.length&&(a.value[0]&&!a.value[1]?He(0):(He(0),He(1),r()),pt(),l.value=a.value.slice(),mt(a.value,n,t.autoApply,t.modelAuto))},jt=(y,G=!1)=>{if(E(y.value)||!y.current&&t.hideOffsetDates)return n("invalid-date",y.value);if(!b.value.enabled)return L(y);$n(S.hours)&&$n(S.minutes)&&!t.multiDates&&(Pe(y,G),gt())},ot=(y,G)=>{var se;R(y,G.month,G.year),D.value.count&&!D.value.solo&&w(y),n("update-month-year",{instance:y,month:G.month,year:G.year}),o(D.value.solo?y:void 0);const ae=(se=t.flow)!=null&&se.length?t.flow[t.flowStep]:void 0;!G.fromNav&&(ae===Ne.month||ae===Ne.year)&&r()},Se=(y,G)=>{Sn({value:y,modelValue:l,range:b.value.enabled,timezone:G?void 0:t.timezone}),te(),t.multiCalendars&&e.nextTick().then(()=>h(!0))},xt=()=>{b.value.enabled?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=pe(I(),l.value[0])?[I(),l.value[0]]:[l.value[0],I()]:l.value=[I()]:l.value=I(),te()},qt=()=>{if(Array.isArray(l.value))if(t.multiDates){const y=ht();l.value[l.value.length-1]=Y(y)}else l.value=l.value.map((y,G)=>y&&Y(y,G));else l.value=Y(l.value);n("time-update")},ht=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:f,modelValue:l,month:H,year:J,time:S,disabledTimesConfig:A,validateTime:v,getCalendarDays:ue,getMarker:Q,handleScroll:d,handleSwipe:k,handleArrow:_,selectDate:jt,updateMonthYear:ot,presetDate:Se,selectCurrentDate:xt,updateTime:(y,G=!0,ae=!1)=>{j(y,G,ae,qt)}}},Ar={key:0},Pr=e.defineComponent({__name:"DatePicker",props:{...$e},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,{calendars:c,month:l,year:f,modelValue:S,time:D,disabledTimesConfig:$,validateTime:b,getCalendarDays:N,getMarker:E,handleArrow:C,handleScroll:M,handleSwipe:j,selectDate:Y,updateMonthYear:O,presetDate:V,selectCurrentDate:v,updateTime:A}=$r(a,r,F,u),H=e.useSlots(),{setHoverDate:J,getDayClassData:R,clearHoverDate:te}=Ra(S,a),{defaultedMultiCalendars:ne}=me(a),z=e.ref([]),h=e.ref([]),T=e.ref(null),x=Me(H,"calendar"),X=Me(H,"monthYear"),g=Me(H,"timePicker"),m=k=>{a.shadow||r("mount",k)};e.watch(c,()=>{a.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const W=e.computed(()=>k=>N(l.value(k),f.value(k)).map(Q=>({...Q,days:Q.days.map(ee=>(ee.marker=E(ee),ee.classData=R(ee),ee))})));function F(k){var Q;k||k===0?(Q=h.value[k])==null||Q.triggerTransition(l.value(k),f.value(k)):h.value.forEach((ee,p)=>ee.triggerTransition(l.value(p),f.value(p)))}function u(){r("update-flow-step")}const w=(k,Q=!1)=>{Y(k,Q),a.spaceConfirm&&r("select-date")};return n({clearHoverDate:te,presetDate:V,selectCurrentDate:v,toggleMonthPicker:(k,Q,ee=0)=>{var p;(p=z.value[ee])==null||p.toggleMonthPicker(k,Q)},toggleYearPicker:(k,Q,ee=0)=>{var p;(p=z.value[ee])==null||p.toggleYearPicker(k,Q)},toggleTimePicker:(k,Q,ee)=>{var p;(p=T.value)==null||p.toggleTimePicker(k,Q,ee)},handleArrow:C,updateMonthYear:O,getSidebarProps:()=>({modelValue:S,month:l,year:f,time:D,updateTime:A,updateMonthYear:O,selectDate:Y,presetDate:V})}),(k,Q)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(ft,{"multi-calendars":e.unref(ne).count,collapse:k.collapse},{default:e.withCtx(({instance:ee,index:p})=>[k.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(kr,e.mergeProps({key:0,ref:q=>{q&&(z.value[p]=q)},months:e.unref(rn)(k.formatLocale,k.locale,k.monthNameFormat),years:e.unref(At)(k.yearRange,k.reverseYears),month:e.unref(l)(ee),year:e.unref(f)(ee),instance:ee},k.$props,{onMount:Q[0]||(Q[0]=q=>m(e.unref(We).header)),onResetFlow:Q[1]||(Q[1]=q=>k.$emit("reset-flow")),onUpdateMonthYear:q=>e.unref(O)(ee,q),onOverlayClosed:Q[2]||(Q[2]=q=>k.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(X),(q,ue)=>({name:q,fn:e.withCtx(L=>[e.renderSlot(k.$slots,q,e.normalizeProps(e.guardReactiveProps(L)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(Br,e.mergeProps({ref:q=>{q&&(h.value[p]=q)},"mapped-dates":W.value(ee),month:e.unref(l)(ee),year:e.unref(f)(ee),instance:ee},k.$props,{onSelectDate:q=>e.unref(Y)(q,ee!==1),onHandleSpace:q=>w(q,ee!==1),onSetHoverDate:Q[3]||(Q[3]=q=>e.unref(J)(q)),onHandleScroll:q=>e.unref(M)(q,ee),onHandleSwipe:q=>e.unref(j)(q,ee),onMount:Q[4]||(Q[4]=q=>m(e.unref(We).calendar)),onResetFlow:Q[5]||(Q[5]=q=>k.$emit("reset-flow")),onTooltipOpen:Q[6]||(Q[6]=q=>k.$emit("tooltip-open",q)),onTooltipClose:Q[7]||(Q[7]=q=>k.$emit("tooltip-close",q))}),e.createSlots({_:2},[e.renderList(e.unref(x),(q,ue)=>({name:q,fn:e.withCtx(L=>[e.renderSlot(k.$slots,q,e.normalizeProps(e.guardReactiveProps({...L})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),k.enableTimePicker?(e.openBlock(),e.createElementBlock("div",Ar,[k.$slots["time-picker"]?e.renderSlot(k.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(D),updateTime:e.unref(A)}))):(e.openBlock(),e.createBlock(Tn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:T},k.$props,{hours:e.unref(D).hours,minutes:e.unref(D).minutes,seconds:e.unref(D).seconds,"internal-model-value":k.internalModelValue,"disabled-times-config":e.unref($),"validate-time":e.unref(b),onMount:Q[8]||(Q[8]=ee=>m(e.unref(We).timePicker)),"onUpdate:hours":Q[9]||(Q[9]=ee=>e.unref(A)(ee)),"onUpdate:minutes":Q[10]||(Q[10]=ee=>e.unref(A)(ee,!1)),"onUpdate:seconds":Q[11]||(Q[11]=ee=>e.unref(A)(ee,!1,!0)),onResetFlow:Q[12]||(Q[12]=ee=>k.$emit("reset-flow")),onOverlayClosed:Q[13]||(Q[13]=ee=>k.$emit("time-picker-close")),onOverlayOpened:Q[14]||(Q[14]=ee=>k.$emit("time-picker-open",ee)),onAmPmChange:Q[15]||(Q[15]=ee=>k.$emit("am-pm-change",ee))}),e.createSlots({_:2},[e.renderList(e.unref(g),(ee,p)=>({name:ee,fn:e.withCtx(q=>[e.renderSlot(k.$slots,ee,e.normalizeProps(e.guardReactiveProps(q)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),Nr=(t,n)=>{const o=e.ref(),{defaultedMultiCalendars:r,defaultedConfig:a,defaultedHighlight:c,defaultedRange:l}=me(t),{modelValue:f,year:S,month:D,calendars:$}=nt(t,n),{isDisabled:b}=Ue(t),{selectYear:N,groupedYears:E,showYearPicker:C,isDisabled:M,toggleYearPicker:j,handleYearSelect:Y,handleYear:O}=Cn({modelValue:f,multiCalendars:r,highlight:c,calendars:$,month:D,year:S,props:t,emit:n}),V=(h,T)=>[h,T].map(x=>s.format(x,"MMMM",{locale:t.formatLocale})).join("-"),v=e.computed(()=>h=>f.value?Array.isArray(f.value)?f.value.some(T=>s.isSameQuarter(h,T)):s.isSameQuarter(f.value,h):!1),A=h=>{if(l.value.enabled){if(Array.isArray(f.value)){const T=ie(h,f.value[0])||ie(h,f.value[1]);return st(f.value,o.value,h)&&!T}return!1}return!1},H=e.computed(()=>h=>{const T=s.set(new Date,{year:S.value(h)});return s.eachQuarterOfInterval({start:s.startOfYear(T),end:s.endOfYear(T)}).map(x=>{const X=s.startOfQuarter(x),g=s.endOfQuarter(x),m=b(x),W=A(X),F=typeof c.value=="function"?c.value({quarter:s.getQuarter(X),year:s.getYear(X)}):!!c.value.quarters.find(u=>u.quarter===s.getQuarter(X)&&u.year===s.getYear(X));return{text:V(X,g),value:X,active:v.value(X),highlighted:F,disabled:m,isBetween:W}})}),J=h=>{Lt(h,f,t.multiDatesLimit),n("auto-apply",!0)},R=h=>{const T=Kt(f,h,n);mt(T,n,t.autoApply,t.modelAuto)},te=h=>{f.value=h,n("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:r,groupedYears:E,year:S,isDisabled:M,quarters:H,showYearPicker:C,modelValue:f,setHoverDate:h=>{o.value=h},selectYear:N,selectQuarter:(h,T,x)=>{if(!x)return $.value[T].month=s.getMonth(s.endOfQuarter(h)),t.multiDates?J(h):l.value.enabled?R(h):te(h)},toggleYearPicker:j,handleYearSelect:Y,handleYear:O}},Rr={class:"dp--quarter-items"},Er=["disabled","onClick","onMouseover"],Yr=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...$e},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:n,emit:o}){const r=o,a=t,c=e.useSlots(),l=Me(c,"yearMode"),{defaultedMultiCalendars:f,defaultedConfig:S,groupedYears:D,year:$,isDisabled:b,quarters:N,modelValue:E,showYearPicker:C,setHoverDate:M,selectQuarter:j,toggleYearPicker:Y,handleYearSelect:O,handleYear:V}=Nr(a,r);return n({getSidebarProps:()=>({modelValue:E,year:$,selectQuarter:j,handleYearSelect:O,handleYear:V})}),(A,H)=>(e.openBlock(),e.createBlock(ft,{"multi-calendars":e.unref(f).count,collapse:A.collapse,stretch:""},{default:e.withCtx(({instance:J})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(S).modeHeight}px`})},[e.createElementVNode("div",null,[e.createVNode(vn,e.mergeProps(A.$props,{items:e.unref(D)(J),instance:J,"show-year-picker":e.unref(C)[J],year:e.unref($)(J),"is-disabled":R=>e.unref(b)(J,R),onHandleYear:R=>e.unref(V)(J,R),onYearSelect:R=>e.unref(O)(R,J),onToggleYearPicker:R=>e.unref(Y)(J,R==null?void 0:R.flow,R==null?void 0:R.show)}),e.createSlots({_:2},[e.renderList(e.unref(l),(R,te)=>({name:R,fn:e.withCtx(ne=>[e.renderSlot(A.$slots,R,e.normalizeProps(e.guardReactiveProps(ne)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",Rr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(N)(J),(R,te)=>(e.openBlock(),e.createElementBlock("div",{key:te},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":R.active,"dp--qr-btn-between":R.isBetween,"dp--qr-btn-disabled":R.disabled,"dp--highlighted":R.highlighted}]),disabled:R.disabled,onClick:ne=>e.unref(j)(R.value,J,R.disabled),onMouseover:ne=>e.unref(M)(R.value)},[A.$slots.quarter?e.renderSlot(A.$slots,"quarter",{key:0,value:R.value,text:R.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(R.text),1)],64))],42,Er)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),_r=["id"],Vr={key:0,class:"dp--menu-load-container"},Or=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],Ir={key:0,class:"dp__sidebar_left"},zr=["onClick","onKeydown"],Hr={key:2,class:"dp__sidebar_right"},Lr={key:3,class:"dp__action_extra"},An=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...dt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,c=e.ref(null),l=e.computed(()=>{const{openOnTop:P,...K}=a;return{...K,flowStep:R.value,collapse:a.collapse,noOverlayFocus:a.noOverlayFocus,menuWrapRef:c.value}}),{setMenuFocused:f,setShiftKey:S,control:D}=bn(),$=e.useSlots(),{defaultedTextInput:b,defaultedInline:N,defaultedConfig:E}=me(a),C=e.ref(null),M=e.ref(0),j=e.ref(null),Y=e.ref(!1),O=e.ref(null);e.onMounted(()=>{if(!a.shadow){Y.value=!0,V(),window.addEventListener("resize",V);const P=ye(c);if(P&&!b.value.enabled&&!N.value.enabled&&(f(!0),T()),P){const K=le=>{E.value.allowPreventDefault&&le.preventDefault(),_e(le,E.value,!0)};P.addEventListener("pointerdown",K),P.addEventListener("mousedown",K)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",V)});const V=()=>{const P=ye(j);P&&(M.value=P.getBoundingClientRect().width)},{arrowRight:v,arrowLeft:A,arrowDown:H,arrowUp:J}=Ie(),{flowStep:R,updateFlowStep:te,childMount:ne,resetFlow:z}=Ea(a,r,O),h=e.computed(()=>a.monthPicker?Za:a.yearPicker?Ja:a.timePicker?gr:a.quarterPicker?Yr:Pr),T=()=>{const P=ye(c);P&&P.focus({preventScroll:!0})},x=e.computed(()=>{var P;return((P=O.value)==null?void 0:P.getSidebarProps())||{}}),X=()=>{a.openOnTop&&r("recalculate-position")},g=Me($,"action"),m=e.computed(()=>a.monthPicker||a.yearPicker?Me($,"monthYear"):a.timePicker?Me($,"timePicker"):Me($,"shared")),W=e.computed(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),F=e.computed(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),u=e.computed(()=>({dp__menu:!0,dp__menu_index:!N.value.enabled,dp__relative:N.value.enabled,[a.menuClassName]:!!a.menuClassName})),w=P=>{_e(P,E.value,!0)},i=()=>{a.escClose&&r("close-picker")},B=P=>{if(a.arrowNavigation){if(P==="up")return J();if(P==="down")return H();if(P==="left")return A();if(P==="right")return v()}else P==="left"||P==="up"?ee("handleArrow","left",0,P==="up"):ee("handleArrow","right",0,P==="down")},d=P=>{S(P.shiftKey),!a.disableMonthYearSelect&&P.code==="Tab"&&P.target.classList.contains("dp__menu")&&D.value.shiftKeyInMenu&&(P.preventDefault(),_e(P,E.value,!0),r("close-picker"))},_=()=>{T(),r("time-picker-close")},k=P=>{var K,le,ce;(K=O.value)==null||K.toggleTimePicker(!1,!1),(le=O.value)==null||le.toggleMonthPicker(!1,!1,P),(ce=O.value)==null||ce.toggleYearPicker(!1,!1,P)},Q=(P,K=0)=>{var le,ce,U;return P==="month"?(le=O.value)==null?void 0:le.toggleMonthPicker(!1,!0,K):P==="year"?(ce=O.value)==null?void 0:ce.toggleYearPicker(!1,!0,K):P==="time"?(U=O.value)==null?void 0:U.toggleTimePicker(!0,!1):k(K)},ee=(P,...K)=>{var le,ce;(le=O.value)!=null&&le[P]&&((ce=O.value)==null||ce[P](...K))},p=()=>{ee("selectCurrentDate")},q=(P,K)=>{ee("presetDate",P,K)},ue=()=>{ee("clearHoverDate")};return n({updateMonthYear:(P,K)=>{ee("updateMonthYear",P,K)},switchView:Q}),(P,K)=>{var le,ce;return e.openBlock(),e.createElementBlock("div",{id:P.uid?`dp-menu-${P.uid}`:void 0,ref_key:"dpMenuRef",ref:c,tabindex:"0",role:"dialog",class:e.normalizeClass(u.value),onMouseleave:ue,onClick:w,onKeydown:[e.withKeys(i,["esc"]),K[18]||(K[18]=e.withKeys(e.withModifiers(U=>B("left"),["prevent"]),["left"])),K[19]||(K[19]=e.withKeys(e.withModifiers(U=>B("up"),["prevent"]),["up"])),K[20]||(K[20]=e.withKeys(e.withModifiers(U=>B("down"),["prevent"]),["down"])),K[21]||(K[21]=e.withKeys(e.withModifiers(U=>B("right"),["prevent"]),["right"])),d]},[(P.disabled||P.readonly)&&e.unref(N).enabled||P.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(F.value)},[P.loading?(e.openBlock(),e.createElementBlock("div",Vr,Or)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),!e.unref(N).enabled&&!P.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(W.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:j,class:e.normalizeClass({dp__menu_content_wrapper:((le=P.presetDates)==null?void 0:le.length)||!!P.$slots["left-sidebar"]||!!P.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&((ce=P.presetDates)==null?void 0:ce.length)||!!P.$slots["left-sidebar"]||!!P.$slots["right-sidebar"]}),style:e.normalizeStyle({"--dp-menu-width":`${M.value}px`})},[P.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Ir,[e.renderSlot(P.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(x.value)))])):e.createCommentVNode("",!0),P.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(P.presetDates,(U,Ae)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:Ae},[U.slot?e.renderSlot(P.$slots,U.slot,{key:0,presetDate:q,label:U.label,value:U.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(U.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),onClick:e.withModifiers(Pe=>q(U.value,U.noTz),["prevent"]),onKeydown:[e.withKeys(e.withModifiers(Pe=>q(U.value,U.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(Pe=>q(U.value,U.noTz),["prevent"]),["space"])]},e.toDisplayString(U.label),47,zr))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:C,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(h.value),e.mergeProps({ref_key:"dynCmpRef",ref:O},l.value,{"flow-step":e.unref(R),onMount:e.unref(ne),onUpdateFlowStep:e.unref(te),onResetFlow:e.unref(z),onFocusMenu:T,onSelectDate:K[0]||(K[0]=U=>P.$emit("select-date")),onDateUpdate:K[1]||(K[1]=U=>P.$emit("date-update",U)),onTooltipOpen:K[2]||(K[2]=U=>P.$emit("tooltip-open",U)),onTooltipClose:K[3]||(K[3]=U=>P.$emit("tooltip-close",U)),onAutoApply:K[4]||(K[4]=U=>P.$emit("auto-apply",U)),onRangeStart:K[5]||(K[5]=U=>P.$emit("range-start",U)),onRangeEnd:K[6]||(K[6]=U=>P.$emit("range-end",U)),onInvalidFixedRange:K[7]||(K[7]=U=>P.$emit("invalid-fixed-range",U)),onTimeUpdate:K[8]||(K[8]=U=>P.$emit("time-update")),onAmPmChange:K[9]||(K[9]=U=>P.$emit("am-pm-change",U)),onTimePickerOpen:K[10]||(K[10]=U=>P.$emit("time-picker-open",U)),onTimePickerClose:_,onRecalculatePosition:X,onUpdateMonthYear:K[11]||(K[11]=U=>P.$emit("update-month-year",U)),onAutoApplyInvalid:K[12]||(K[12]=U=>P.$emit("auto-apply-invalid",U)),onInvalidDate:K[13]||(K[13]=U=>P.$emit("invalid-date",U)),"onUpdate:internalModelValue":K[14]||(K[14]=U=>P.$emit("update:internal-model-value",U))}),e.createSlots({_:2},[e.renderList(m.value,(U,Ae)=>({name:U,fn:e.withCtx(Pe=>[e.renderSlot(P.$slots,U,e.normalizeProps(e.guardReactiveProps({...Pe})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),P.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Hr,[e.renderSlot(P.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(x.value)))])):e.createCommentVNode("",!0),P.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Lr,[P.$slots["action-extra"]?e.renderSlot(P.$slots,"action-extra",{key:0,selectCurrentDate:p}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!P.autoApply||e.unref(E).keepActionRow?(e.openBlock(),e.createBlock(La,e.mergeProps({key:2,"menu-mount":Y.value},l.value,{"calendar-width":M.value,onClosePicker:K[15]||(K[15]=U=>P.$emit("close-picker")),onSelectDate:K[16]||(K[16]=U=>P.$emit("select-date")),onInvalidSelect:K[17]||(K[17]=U=>P.$emit("invalid-select")),onSelectNow:p}),e.createSlots({_:2},[e.renderList(e.unref(g),(U,Ae)=>({name:U,fn:e.withCtx(Pe=>[e.renderSlot(P.$slots,U,e.normalizeProps(e.guardReactiveProps({...Pe})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],42,_r)}}}),Kr=typeof window<"u"?window:void 0,Wt=()=>{},Wr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Ur=(t,n,o,r)=>{if(!t)return Wt;let a=Wt;const c=e.watch(()=>e.unref(t),f=>{a(),f&&(f.addEventListener(n,o,r),a=()=>{f.removeEventListener(n,o,r),a=Wt})},{immediate:!0,flush:"post"}),l=()=>{c(),a()};return Wr(l),l},jr=(t,n,o,r={})=>{const{window:a=Kr,event:c="pointerdown"}=r;return a?Ur(a,c,f=>{const S=ye(t),D=ye(n);!S||!D||S===f.target||f.composedPath().includes(S)||f.composedPath().includes(D)||o(f)},{passive:!0}):void 0},xr=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...dt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,c=e.useSlots(),l=e.ref(!1),f=e.toRef(a,"modelValue"),S=e.toRef(a,"timezone"),D=e.ref(null),$=e.ref(null),b=e.ref(null),N=e.ref(!1),E=e.ref(null),C=e.ref(!1),M=e.ref(!1),j=e.ref(!1),{setMenuFocused:Y,setShiftKey:O}=bn(),{clearArrowNav:V}=Ie(),{mapDatesArrToMap:v,validateDate:A,isValidTime:H}=Ue(a),{defaultedTransitions:J,defaultedTextInput:R,defaultedInline:te,defaultedConfig:ne,defaultedRange:z}=me(a),{menuTransition:h,showTransition:T}=tt(J);e.onMounted(()=>{_(a.modelValue),e.nextTick().then(()=>{if(!te.value.enabled){const Z=w(E.value);Z==null||Z.addEventListener("scroll",K),window==null||window.addEventListener("resize",le)}}),te.value.enabled&&(l.value=!0),window==null||window.addEventListener("keyup",ce),window==null||window.addEventListener("keydown",U)});const x=e.computed(()=>v());e.onUnmounted(()=>{if(!te.value.enabled){const Z=w(E.value);Z==null||Z.removeEventListener("scroll",K),window==null||window.removeEventListener("resize",le)}window==null||window.removeEventListener("keyup",ce),window==null||window.removeEventListener("keydown",U)});const X=Me(c,"all",a.presetDates),g=Me(c,"input");e.watch([f,S],()=>{_(f.value)},{deep:!0});const{openOnTop:m,menuStyle:W,xCorrect:F,setMenuPosition:u,getScrollableParent:w,shadowRender:i}=Aa({menuRef:D,menuRefInner:$,inputRef:b,pickerWrapperRef:E,inline:te,emit:r,props:a,slots:c}),{inputValue:B,internalModelValue:d,parseExternalModelValue:_,emitModelValue:k,formatInputValue:Q,checkBeforeEmit:ee}=Ba(r,a,N),p=e.computed(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:te.value.enabled,"dp--flex-display-collapsed":j.value,dp__flex_display_with_input:te.value.input})),q=e.computed(()=>a.dark?"dp__theme_dark":"dp__theme_light"),ue=e.computed(()=>({to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||te.value.enabled})),L=e.computed(()=>({class:"dp__outer_menu_wrap"})),P=e.computed(()=>te.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),K=()=>{l.value&&(ne.value.closeOnScroll?Se():u())},le=()=>{var oe;l.value&&u();const Z=(oe=$.value)==null?void 0:oe.$el.getBoundingClientRect().width;j.value=document.body.offsetWidth<=Z},ce=Z=>{Z.key==="Tab"&&!te.value.enabled&&!a.teleport&&ne.value.tabOutClosesMenu&&(E.value.contains(document.activeElement)||Se()),M.value=Z.shiftKey},U=Z=>{M.value=Z.shiftKey},Ae=()=>{!a.disabled&&!a.readonly&&(i(An,a),u(!1),l.value=!0,l.value&&r("open"),l.value||ot(),_(a.modelValue))},Pe=()=>{var Z;B.value="",ot(),(Z=b.value)==null||Z.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),ne.value.closeOnClearValue&&Se()},Xe=()=>{const Z=d.value;return!Z||!Array.isArray(Z)&&A(Z)?!0:Array.isArray(Z)?a.multiDates||Z.length===2&&A(Z[0])&&A(Z[1])?!0:z.value.partialRange&&!a.timePicker?A(Z[0]):!1:!1},He=()=>{ee()&&Xe()?(k(),Se()):r("invalid-select",d.value)},pt=Z=>{gt(),k(),ne.value.closeOnAutoApply&&!Z&&Se()},gt=()=>{b.value&&R.value.enabled&&b.value.setParsedDate(d.value)},jt=(Z=!1)=>{a.autoApply&&H(d.value)&&Xe()&&(z.value.enabled&&Array.isArray(d.value)?(z.value.partialRange||d.value.length===2)&&pt(Z):pt(Z))},ot=()=>{R.value.enabled||(d.value=null)},Se=()=>{te.value.enabled||(l.value&&(l.value=!1,F.value=!1,Y(!1),O(!1),V(),r("closed"),B.value&&_(f.value)),ot(),r("blur"))},xt=(Z,oe,re=!1)=>{if(!Z){d.value=null;return}const je=Array.isArray(Z)?!Z.some(Nn=>!A(Nn)):A(Z),ve=H(Z);je&&ve&&(d.value=Z,oe&&(C.value=re,He(),r("text-submit")))},qt=()=>{a.autoApply&&H(d.value)&&k(),gt()},ht=()=>l.value?Se():Ae(),Pn=Z=>{d.value=Z},y=()=>{R.value.enabled&&(N.value=!0,Q()),r("focus")},G=()=>{if(R.value.enabled&&(N.value=!1,_(a.modelValue),C.value)){const Z=oa(E.value,M.value);Z==null||Z.focus()}r("blur")},ae=Z=>{$.value&&$.value.updateMonthYear(0,{month:ln(Z.month),year:ln(Z.year)})},se=Z=>{_(Z??a.modelValue)},de=(Z,oe)=>{var re;(re=$.value)==null||re.switchView(Z,oe)},Re=Z=>ne.value.onClickOutside?ne.value.onClickOutside(Z):Se();return jr(D,b,()=>Re(Xe)),n({closeMenu:Se,selectDate:He,clearValue:Pe,openMenu:Ae,onScroll:K,formatInputValue:Q,updateInternalModelValue:Pn,setMonthYear:ae,parseModel:se,switchView:de,toggleMenu:ht}),(Z,oe)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:E,class:e.normalizeClass(p.value),"data-datepicker-instance":""},[e.createVNode(Oa,e.mergeProps({ref_key:"inputRef",ref:b,"input-value":e.unref(B),"onUpdate:inputValue":oe[0]||(oe[0]=re=>e.isRef(B)?B.value=re:null),"is-menu-open":l.value},Z.$props,{onClear:Pe,onOpen:Ae,onSetInputDate:xt,onSetEmptyDate:e.unref(k),onSelectDate:He,onToggle:ht,onClose:Se,onFocus:y,onBlur:G,onRealBlur:oe[1]||(oe[1]=re=>N.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(g),(re,je)=>({name:re,fn:e.withCtx(ve=>[e.renderSlot(Z.$slots,re,e.normalizeProps(e.guardReactiveProps(ve)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),e.createVNode(e.Teleport,e.normalizeProps(e.guardReactiveProps(ue.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(h)(e.unref(m)),css:e.unref(T)&&!e.unref(te).enabled},{default:e.withCtx(()=>[l.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:D},L.value,{class:{"dp--menu-wrapper":!e.unref(te).enabled},style:e.unref(te).enabled?void 0:e.unref(W)}),[e.createVNode(An,e.mergeProps({ref_key:"dpMenuRef",ref:$},Z.$props,{"internal-model-value":e.unref(d),"onUpdate:internalModelValue":oe[2]||(oe[2]=re=>e.isRef(d)?d.value=re:null),class:{[q.value]:!0,"dp--menu-wrapper":Z.teleport},"open-on-top":e.unref(m),"arr-map-values":x.value,"no-overlay-focus":P.value,collapse:j.value,onClosePicker:Se,onSelectDate:He,onAutoApply:jt,onTimeUpdate:qt,onFlowStep:oe[3]||(oe[3]=re=>Z.$emit("flow-step",re)),onUpdateMonthYear:oe[4]||(oe[4]=re=>Z.$emit("update-month-year",re)),onInvalidSelect:oe[5]||(oe[5]=re=>Z.$emit("invalid-select",e.unref(d))),onAutoApplyInvalid:oe[6]||(oe[6]=re=>Z.$emit("invalid-select",re)),onInvalidFixedRange:oe[7]||(oe[7]=re=>Z.$emit("invalid-fixed-range",re)),onRecalculatePosition:e.unref(u),onTooltipOpen:oe[8]||(oe[8]=re=>Z.$emit("tooltip-open",re)),onTooltipClose:oe[9]||(oe[9]=re=>Z.$emit("tooltip-close",re)),onTimePickerOpen:oe[10]||(oe[10]=re=>Z.$emit("time-picker-open",re)),onTimePickerClose:oe[11]||(oe[11]=re=>Z.$emit("time-picker-close",re)),onAmPmChange:oe[12]||(oe[12]=re=>Z.$emit("am-pm-change",re)),onRangeStart:oe[13]||(oe[13]=re=>Z.$emit("range-start",re)),onRangeEnd:oe[14]||(oe[14]=re=>Z.$emit("range-end",re)),onDateUpdate:oe[15]||(oe[15]=re=>Z.$emit("date-update",re)),onInvalidDate:oe[16]||(oe[16]=re=>Z.$emit("invalid-date",re))}),e.createSlots({_:2},[e.renderList(e.unref(X),(re,je)=>({name:re,fn:e.withCtx(ve=>[e.renderSlot(Z.$slots,re,e.normalizeProps(e.guardReactiveProps({...ve})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","collapse","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),Ut=(()=>{const t=xr;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(Ut[t]=n)}),Ut});
